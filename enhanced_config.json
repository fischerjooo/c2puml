{
  "project_name": "Enhanced_C_Project",
  "project_roots": ["./tests/test_files"],
  "c_file_prefixes": [],
  "recursive": true,
  "model_output_path": "./enhanced_project_model.json",
  "output_dir": "./enhanced_plantuml_output",
  
  "_comment_file_filters": "Filter files based on regex patterns",
  "file_filters": {
    "files": {
      "include": [
        ".*\\.c$",
        ".*\\.h$"
      ],
      "exclude": [
        ".*test.*",
        ".*temp.*",
        ".*\\.tmp$"
      ]
    }
  },
  
  "_comment_element_filters": "Filter structs, enums, functions, and global variables using regex",
  "element_filters": {
    "structs": {
      "include": [
        "^[A-Z].*",
        ".*_t$"
      ],
      "exclude": [
        ".*_internal.*",
        ".*_deprecated.*"
      ]
    },
    "enums": {
      "include": [
        ".*_enum$",
        "^E_.*"
      ],
      "exclude": [
        ".*_old.*"
      ]
    },
    "functions": {
      "include": [
        "^public_.*",
        "^api_.*"
      ],
      "exclude": [
        "^_.*",
        ".*_private.*",
        ".*_test.*"
      ]
    },
    "globals": {
      "include": [
        "^g_.*",
        ".*_config$"
      ],
      "exclude": [
        ".*_debug.*"
      ]
    }
  },
  
  "_comment_transformations": "Rename elements using regex patterns and replacements",
  "transformations": {
    "structs": {
      "^old_(.*)": "new_\\1",
      "(.*)_struct$": "\\1_t",
      "^legacy_": ""
    },
    "enums": {
      "^old_(.*)_enum": "\\1_e",
      "(.*)_status": "\\1_state"
    },
    "functions": {
      "^legacy_(.*)": "modern_\\1",
      "(.*)_impl$": "\\1",
      "^internal_(.*)": "_\\1"
    }
  },
  
  "_comment_additions": "Add new elements to specific files or all files",
  "additions": {
    "structs": [
      {
        "name": "pump_config_t",
        "typedef_name": "pump_config_t",
        "fields": [
          {
            "name": "enabled",
            "type": "bool"
          },
          {
            "name": "max_pressure",
            "type": "float"
          },
          {
            "name": "name",
            "type": "char",
            "array_size": "64"
          }
        ],
        "target_files": [
          ".*pump.*\\.h$",
          ".*config.*\\.h$"
        ]
      }
    ],
    "enums": [
      {
        "name": "pump_state_e",
        "typedef_name": "pump_state_t",
        "values": [
          "PUMP_IDLE",
          "PUMP_RUNNING", 
          "PUMP_ERROR",
          "PUMP_MAINTENANCE"
        ],
        "target_files": [
          ".*pump.*"
        ]
      }
    ],
    "functions": [
      {
        "name": "pump_initialize",
        "return_type": "int",
        "parameters": [
          {
            "name": "config",
            "type": "pump_config_t*"
          }
        ],
        "is_static": false,
        "target_files": [
          ".*pump.*\\.c$"
        ]
      },
      {
        "name": "pump_get_status",
        "return_type": "pump_state_t",
        "parameters": [
          {
            "name": "pump_id",
            "type": "int"
          }
        ],
        "is_static": false,
        "target_files": [
          ".*pump.*"
        ]
      }
    ]
  }
}