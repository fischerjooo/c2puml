
======================================================================
                 üß™ C to PlantUML Converter Test Suite                 
======================================================================
Working directory: /workspace
Python version: 3.13.3 (main, Apr  8 2025, 19:55:40) [GCC 14.2.0]
Project root: /workspace

--------------------------------------------------
              Checking Dependencies               
--------------------------------------------------
‚ùå pytest is not available
‚ùå coverage is not available
‚ö†Ô∏è  Missing dependencies: pytest, coverage
‚ÑπÔ∏è  Install with: pip install pytest coverage

--------------------------------------------------
           Running Tests with unittest            
--------------------------------------------------
test_generate_command_isolation (feature.test_cli_feature.TestCLIFeature.test_generate_command_isolation)
Test that generate command works when called independently without model files ... 2025-08-02 07:44:16,497 - root - INFO - Using config: /tmp/tmpvefrognz/config.json
2025-08-02 07:44:16,497 - root - INFO - Output folder: /tmp/tmpvefrognz/output
2025-08-02 07:44:16,497 - root - ERROR - No model file found for generation.

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_generate_fallback_to_model (feature.test_cli_feature.TestCLIFeature.test_generate_fallback_to_model) ... 2025-08-02 07:44:16,553 - root - INFO - Using config: /tmp/tmpnqga7rdq/config.json
2025-08-02 07:44:16,553 - root - INFO - Output folder: /tmp/tmpnqga7rdq/output
2025-08-02 07:44:16,554 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:16,554 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpnqga7rdq
2025-08-02 07:44:16,554 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpnqga7rdq
2025-08-02 07:44:16,555 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:16,555 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:16,555 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:16,555 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpnqga7rdq: 1 files
2025-08-02 07:44:16,555 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:16,556 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,556 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,556 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpnqga7rdq/output/model.json
2025-08-02 07:44:16,556 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:16,556 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:16,556 - root - INFO - Model saved to: /tmp/tmpnqga7rdq/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:16,608 - root - INFO - Using config: /tmp/tmpnqga7rdq/config.json
2025-08-02 07:44:16,609 - root - INFO - Output folder: /tmp/tmpnqga7rdq/output
2025-08-02 07:44:16,609 - root - INFO - PlantUML generation complete! Output in: /tmp/tmpnqga7rdq/output

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_generate_prefers_transformed (feature.test_cli_feature.TestCLIFeature.test_generate_prefers_transformed) ... 2025-08-02 07:44:16,655 - root - INFO - Using config: /tmp/tmp7k499h3l/config.json
2025-08-02 07:44:16,656 - root - INFO - Output folder: /tmp/tmp7k499h3l/output
2025-08-02 07:44:16,656 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:16,656 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmp7k499h3l
2025-08-02 07:44:16,656 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp7k499h3l
2025-08-02 07:44:16,657 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:16,657 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:16,657 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:16,657 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmp7k499h3l: 1 files
2025-08-02 07:44:16,658 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:16,658 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,658 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,658 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmp7k499h3l/output/model.json
2025-08-02 07:44:16,658 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:16,658 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:16,658 - root - INFO - Model saved to: /tmp/tmp7k499h3l/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:16,709 - root - INFO - Using config: /tmp/tmp7k499h3l/config.json
2025-08-02 07:44:16,709 - root - INFO - Output folder: /tmp/tmp7k499h3l/output
2025-08-02 07:44:16,709 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmp7k499h3l/output/model.json
2025-08-02 07:44:16,709 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:16,709 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:16,709 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:16,709 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmp7k499h3l/output/model_transformed.json
2025-08-02 07:44:16,709 - root - INFO - Transformed model saved to: /tmp/tmp7k499h3l/output/model_transformed.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:16,754 - root - INFO - Using config: /tmp/tmp7k499h3l/config.json
2025-08-02 07:44:16,754 - root - INFO - Output folder: /tmp/tmp7k499h3l/output
2025-08-02 07:44:16,754 - root - INFO - PlantUML generation complete! Output in: /tmp/tmp7k499h3l/output

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_parse_only (feature.test_cli_feature.TestCLIFeature.test_parse_only) ... 2025-08-02 07:44:16,804 - root - INFO - Using config: /tmp/tmph84lqhzo/config.json
2025-08-02 07:44:16,804 - root - INFO - Output folder: /tmp/tmph84lqhzo/output
2025-08-02 07:44:16,805 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:16,805 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmph84lqhzo
2025-08-02 07:44:16,805 - c2puml.core.parser - INFO - Parsing project: /tmp/tmph84lqhzo
2025-08-02 07:44:16,806 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:16,806 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:16,806 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:16,806 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmph84lqhzo: 1 files
2025-08-02 07:44:16,806 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:16,807 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,807 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,807 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmph84lqhzo/output/model.json
2025-08-02 07:44:16,807 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:16,807 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:16,807 - root - INFO - Model saved to: /tmp/tmph84lqhzo/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_transform_only (feature.test_cli_feature.TestCLIFeature.test_transform_only) ... 2025-08-02 07:44:16,850 - root - INFO - Using config: /tmp/tmpnnoqbjt9/config.json
2025-08-02 07:44:16,851 - root - INFO - Output folder: /tmp/tmpnnoqbjt9/output
2025-08-02 07:44:16,851 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:16,851 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpnnoqbjt9
2025-08-02 07:44:16,851 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpnnoqbjt9
2025-08-02 07:44:16,852 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:16,852 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:16,852 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:16,852 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpnnoqbjt9: 1 files
2025-08-02 07:44:16,853 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:16,853 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,853 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,853 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpnnoqbjt9/output/model.json
2025-08-02 07:44:16,853 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:16,853 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:16,853 - root - INFO - Model saved to: /tmp/tmpnnoqbjt9/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:16,897 - root - INFO - Using config: /tmp/tmpnnoqbjt9/config.json
2025-08-02 07:44:16,897 - root - INFO - Output folder: /tmp/tmpnnoqbjt9/output
2025-08-02 07:44:16,897 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpnnoqbjt9/output/model.json
2025-08-02 07:44:16,897 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:16,897 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:16,897 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:16,897 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpnnoqbjt9/output/model_transformed.json
2025-08-02 07:44:16,897 - root - INFO - Transformed model saved to: /tmp/tmpnnoqbjt9/output/model_transformed.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_full_workflow_default (feature.test_cli_modes.TestCLIModes.test_full_workflow_default) ... 2025-08-02 07:44:16,941 - root - INFO - Using config: /tmp/tmpi9nua1kz/config.json
2025-08-02 07:44:16,942 - root - INFO - Output folder: /tmp/tmpi9nua1kz/output
2025-08-02 07:44:16,942 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:16,942 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpi9nua1kz
2025-08-02 07:44:16,942 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpi9nua1kz
2025-08-02 07:44:16,943 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:16,943 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:16,943 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:16,943 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpi9nua1kz: 1 files
2025-08-02 07:44:16,944 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:16,944 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,944 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:16,944 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpi9nua1kz/output/model.json
2025-08-02 07:44:16,944 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:16,944 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:16,944 - root - INFO - Model saved to: /tmp/tmpi9nua1kz/output/model.json
2025-08-02 07:44:16,944 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpi9nua1kz/output/model.json
2025-08-02 07:44:16,944 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:16,944 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:16,944 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:16,944 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpi9nua1kz/output/model_transformed.json
2025-08-02 07:44:16,944 - root - INFO - Transformed model saved to: /tmp/tmpi9nua1kz/output/model_transformed.json
2025-08-02 07:44:16,945 - root - INFO - PlantUML generation complete! Output in: /tmp/tmpi9nua1kz/output
2025-08-02 07:44:16,945 - root - INFO - Complete workflow finished successfully!

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_generate_mode_fallback_to_model (feature.test_cli_modes.TestCLIModes.test_generate_mode_fallback_to_model) ... 2025-08-02 07:44:17,000 - root - INFO - Using config: /tmp/tmpk_c21jtq/config.json
2025-08-02 07:44:17,000 - root - INFO - Output folder: /tmp/tmpk_c21jtq/output
2025-08-02 07:44:17,002 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,002 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpk_c21jtq
2025-08-02 07:44:17,002 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpk_c21jtq
2025-08-02 07:44:17,003 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,003 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,004 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,004 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpk_c21jtq: 1 files
2025-08-02 07:44:17,004 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,005 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,005 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,005 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpk_c21jtq/output/model.json
2025-08-02 07:44:17,005 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:17,005 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:17,005 - root - INFO - Model saved to: /tmp/tmpk_c21jtq/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:17,057 - root - INFO - Using config: /tmp/tmpk_c21jtq/config.json
2025-08-02 07:44:17,057 - root - INFO - Output folder: /tmp/tmpk_c21jtq/output
2025-08-02 07:44:17,057 - root - INFO - PlantUML generation complete! Output in: /tmp/tmpk_c21jtq/output

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_generate_mode_isolation (feature.test_cli_modes.TestCLIModes.test_generate_mode_isolation)
Test that generate mode works when called independently without model files ... 2025-08-02 07:44:17,102 - root - INFO - Using config: /tmp/tmpquw9l6f1/config.json
2025-08-02 07:44:17,103 - root - INFO - Output folder: /tmp/tmpquw9l6f1/output
2025-08-02 07:44:17,103 - root - ERROR - No model file found for generation.

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_generate_mode_prefers_transformed (feature.test_cli_modes.TestCLIModes.test_generate_mode_prefers_transformed) ... 2025-08-02 07:44:17,167 - root - INFO - Using config: /tmp/tmp8rk2_z8f/config.json
2025-08-02 07:44:17,168 - root - INFO - Output folder: /tmp/tmp8rk2_z8f/output
2025-08-02 07:44:17,169 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,169 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmp8rk2_z8f
2025-08-02 07:44:17,169 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp8rk2_z8f
2025-08-02 07:44:17,170 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,170 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,171 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,171 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmp8rk2_z8f: 1 files
2025-08-02 07:44:17,171 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,172 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,172 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,172 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmp8rk2_z8f/output/model.json
2025-08-02 07:44:17,172 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:17,172 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:17,172 - root - INFO - Model saved to: /tmp/tmp8rk2_z8f/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:17,221 - root - INFO - Using config: /tmp/tmp8rk2_z8f/config.json
2025-08-02 07:44:17,222 - root - INFO - Output folder: /tmp/tmp8rk2_z8f/output
2025-08-02 07:44:17,222 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmp8rk2_z8f/output/model.json
2025-08-02 07:44:17,222 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,222 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,222 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,222 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmp8rk2_z8f/output/model_transformed.json
2025-08-02 07:44:17,222 - root - INFO - Transformed model saved to: /tmp/tmp8rk2_z8f/output/model_transformed.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:17,267 - root - INFO - Using config: /tmp/tmp8rk2_z8f/config.json
2025-08-02 07:44:17,267 - root - INFO - Output folder: /tmp/tmp8rk2_z8f/output
2025-08-02 07:44:17,268 - root - INFO - PlantUML generation complete! Output in: /tmp/tmp8rk2_z8f/output

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_parse_mode (feature.test_cli_modes.TestCLIModes.test_parse_mode) ... 2025-08-02 07:44:17,312 - root - INFO - Using config: /tmp/tmpeviadgas/config.json
2025-08-02 07:44:17,312 - root - INFO - Output folder: /tmp/tmpeviadgas/output
2025-08-02 07:44:17,313 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,313 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpeviadgas
2025-08-02 07:44:17,313 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpeviadgas
2025-08-02 07:44:17,314 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,314 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,314 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,314 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpeviadgas: 1 files
2025-08-02 07:44:17,314 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,314 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,315 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,315 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpeviadgas/output/model.json
2025-08-02 07:44:17,315 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:17,315 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:17,315 - root - INFO - Model saved to: /tmp/tmpeviadgas/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_transform_mode (feature.test_cli_modes.TestCLIModes.test_transform_mode) ... 2025-08-02 07:44:17,358 - root - INFO - Using config: /tmp/tmp6n59ul3x/config.json
2025-08-02 07:44:17,359 - root - INFO - Output folder: /tmp/tmp6n59ul3x/output
2025-08-02 07:44:17,359 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,359 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmp6n59ul3x
2025-08-02 07:44:17,359 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp6n59ul3x
2025-08-02 07:44:17,360 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,360 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,360 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,360 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmp6n59ul3x: 1 files
2025-08-02 07:44:17,361 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,361 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,361 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,361 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmp6n59ul3x/output/model.json
2025-08-02 07:44:17,361 - c2puml.core.parser - INFO - Found 1 total files across 1 source folder(s)
2025-08-02 07:44:17,361 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:17,361 - root - INFO - Model saved to: /tmp/tmp6n59ul3x/output/model.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

2025-08-02 07:44:17,404 - root - INFO - Using config: /tmp/tmp6n59ul3x/config.json
2025-08-02 07:44:17,405 - root - INFO - Output folder: /tmp/tmp6n59ul3x/output
2025-08-02 07:44:17,405 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmp6n59ul3x/output/model.json
2025-08-02 07:44:17,405 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,405 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,405 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,405 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmp6n59ul3x/output/model_transformed.json
2025-08-02 07:44:17,405 - root - INFO - Transformed model saved to: /tmp/tmp6n59ul3x/output/model_transformed.json

<frozen runpy>:128: RuntimeWarning: 'c2puml.main' found in sys.modules after import of package 'c2puml', but prior to execution of 'c2puml.main'; this may result in unpredictable behaviour

ok
test_generate_with_complex_relationships (feature.test_component_features.TestGeneratorComponentFeatures.test_generate_with_complex_relationships)
Test PlantUML generation with complex type relationships. ... ok
test_generate_with_typedefs (feature.test_component_features.TestGeneratorComponentFeatures.test_generate_with_typedefs)
Test PlantUML generation with typedef relationships. ... ok
test_generate_with_unions (feature.test_component_features.TestGeneratorComponentFeatures.test_generate_with_unions)
Test PlantUML generation with union definitions. ... ok
test_parse_complex_typedefs (feature.test_component_features.TestParserComponentFeatures.test_parse_complex_typedefs)
Test parsing complex typedef relationships. ... ok
test_parse_function_pointers (feature.test_component_features.TestParserComponentFeatures.test_parse_function_pointers)
Test parsing function pointer definitions. ... ok
test_parse_unions (feature.test_component_features.TestParserComponentFeatures.test_parse_unions)
Test parsing union definitions. ... ok
test_cross_file_type_dependencies (feature.test_component_features.TestProjectAnalysisComponentFeatures.test_cross_file_type_dependencies)
Test analysis of type dependencies across files. ... ok
test_project_structure_analysis (feature.test_component_features.TestProjectAnalysisComponentFeatures.test_project_structure_analysis)
Test analysis of project structure and dependencies. ... ok
test_recursive_include_handling (feature.test_component_features.TestProjectAnalysisComponentFeatures.test_recursive_include_handling)
Test handling of recursive include relationships. ... ok
test_alternative_crypto_filter_patterns (feature.test_crypto_filter_pattern.TestCryptoFilterPattern.test_alternative_crypto_filter_patterns)
Test alternative ways to write crypto filter patterns ... 
Testing pattern set 1: ['^crypto.*\\.c$', '^crypto.*\\.h$']
  Crypto_Cfg_Partitions.c: False
  Crypto_Cfg_JobQueues.c: False
  Crypto.c: False

Testing pattern set 2: ['^crypto.*cfg.*\\.c$', '^crypto.*cfg.*\\.h$']
  Crypto_Cfg_Partitions.c: False
  Crypto_Cfg_JobQueues.c: False
  Crypto.c: False

Testing pattern set 3: ['(?i)\\bcrypto.*\\.c$', '(?i)\\bcrypto.*\\.h$']
  Crypto_Cfg_Partitions.c: True
  Crypto_Cfg_JobQueues.c: True
  Crypto.c: True

Testing pattern set 4: ['.*crypto.*\\.c$', '.*crypto.*\\.h$']
  Crypto_Cfg_Partitions.c: False
  Crypto_Cfg_JobQueues.c: False
  Crypto.c: False
ok
test_broken_crypto_filter_pattern (feature.test_crypto_filter_pattern.TestCryptoFilterPattern.test_broken_crypto_filter_pattern)
Test the broken filter pattern that doesn't work ... Broken pattern - Crypto_Cfg_Partitions.c: False
Broken pattern - Crypto_Cfg_JobQueues.c: False
Broken pattern - Crypto.c: False
Broken pattern - Crypto.h: False
Broken pattern - Crypto_Cfg_Partitions.h: False
Broken pattern - Crypto_Cfg_JobQueues.h: False
ok
test_case_insensitive_crypto_filter_pattern (feature.test_crypto_filter_pattern.TestCryptoFilterPattern.test_case_insensitive_crypto_filter_pattern)
Test case-insensitive crypto filter pattern ... Case-insensitive pattern - crypto.c: True
Case-insensitive pattern - CRYPTO.c: True
Case-insensitive pattern - Crypto.c: True
Case-insensitive pattern - crypto_config.c: True
Case-insensitive pattern - CRYPTO_CONFIG.c: True
Case-insensitive pattern - Crypto_Cfg_Partitions.c: True
ok
test_fixed_crypto_filter_pattern (feature.test_crypto_filter_pattern.TestCryptoFilterPattern.test_fixed_crypto_filter_pattern)
Test the corrected filter pattern that should work ... Fixed pattern - Crypto_Cfg_Partitions.c: True
Fixed pattern - Crypto_Cfg_JobQueues.c: True
Fixed pattern - Crypto.c: True
Fixed pattern - Crypto.h: True
Fixed pattern - Crypto_Cfg_Partitions.h: True
Fixed pattern - Crypto_Cfg_JobQueues.h: True
Fixed pattern - main.c: False
Fixed pattern - utils.c: False
Fixed pattern - config.h: False
Fixed pattern - types.h: False
ok
test_parser_integration_with_crypto_filter (feature.test_crypto_filter_pattern.TestCryptoFilterPattern.test_parser_integration_with_crypto_filter)
Test that the parser correctly applies crypto filters ... Parsed files: ['Crypto.c', 'Crypto.h', 'Crypto_Cfg_JobQueues.c', 'Crypto_Cfg_JobQueues.h', 'Crypto_Cfg_Partitions.c', 'Crypto_Cfg_Partitions.h']
ok
test_alternative_crypto_patterns (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_alternative_crypto_patterns)
Test alternative ways to write crypto filter patterns ... ok
test_broken_crypto_filter_pattern (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_broken_crypto_filter_pattern)
Test that the broken pattern from user's question doesn't work ... ok
test_case_insensitive_variations (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_case_insensitive_variations)
Test different case variations with crypto filter ... ok
test_fixed_crypto_filter_pattern (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_fixed_crypto_filter_pattern)
Test that the corrected pattern works correctly ... ok
test_integration_with_full_workflow (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_integration_with_full_workflow)
Test crypto filter integration with full parsing workflow ... ok
test_parser_with_crypto_filter (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_parser_with_crypto_filter)
Test that the parser correctly applies crypto filters ... ok
test_regex_escaping_importance (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_regex_escaping_importance)
Test the importance of proper regex escaping ... ok
test_user_question_scenario (feature.test_crypto_filter_usecase.TestCryptoFilterUseCase.test_user_question_scenario)
Test the exact scenario from the user's question ... ok
test_feature_c_to_h_relationships (feature.test_include_processing_features.TestIncludeProcessingBasicFeatures.test_feature_c_to_h_relationships)
Test feature-level C to H file relationships. ... ok
test_feature_header_to_header_relationships (feature.test_include_processing_features.TestIncludeProcessingBasicFeatures.test_feature_header_to_header_relationships)
Test feature-level header to header relationships. ... ok
test_feature_include_processing_basic_workflow (feature.test_include_processing_features.TestIncludeProcessingBasicFeatures.test_feature_include_processing_basic_workflow)
Test basic include processing workflow from parsing to generation. ... ok
test_feature_complex_project_structure (feature.test_include_processing_features.TestIncludeProcessingComplexFeatures.test_feature_complex_project_structure)
Test complex project structure with multiple layers of includes. ... ok
test_feature_typedef_relationships_across_files (feature.test_include_processing_features.TestIncludeProcessingComplexFeatures.test_feature_typedef_relationships_across_files)
Test typedef relationships across multiple include files. ... ok
test_comprehensive_real_world_project_structure (feature.test_include_processing_features.TestIncludeProcessingComprehensive.test_comprehensive_real_world_project_structure)
Test with realistic project structure resembling real C projects. ... ok
test_comprehensive_typedef_and_struct_relationships (feature.test_include_processing_features.TestIncludeProcessingComprehensive.test_comprehensive_typedef_and_struct_relationships)
Test comprehensive typedef and struct relationships across files. ... ok
test_dependency_circular_include_handling (feature.test_include_processing_features.TestIncludeProcessingDependencies.test_dependency_circular_include_handling)
Test handling of circular include dependencies. ... ok
test_dependency_include_depth_levels (feature.test_include_processing_features.TestIncludeProcessingDependencies.test_dependency_include_depth_levels)
Test that include processing respects depth levels in the transformer phase. ... ok
test_dependency_missing_includes_handling (feature.test_include_processing_features.TestIncludeProcessingDependencies.test_dependency_missing_includes_handling)
Test handling of missing include files. ... ok
test_integration_complete_workflow_with_cli (feature.test_include_processing_features.TestIncludeProcessingIntegration.test_integration_complete_workflow_with_cli)
Test complete workflow using CLI interface. ... 2025-08-02 07:44:17,465 - root - INFO - Using config: /tmp/tmpmrbt6vdm/config.json
2025-08-02 07:44:17,465 - root - INFO - Output folder: /tmp/tmpmrbt6vdm/output
2025-08-02 07:44:17,465 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,465 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpmrbt6vdm
2025-08-02 07:44:17,465 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpmrbt6vdm
2025-08-02 07:44:17,465 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,465 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpmrbt6vdm: 3 files
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,466 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpmrbt6vdm/output/model.json
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Found 3 total files across 1 source folder(s)
2025-08-02 07:44:17,466 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 2 functions
2025-08-02 07:44:17,466 - root - INFO - Model saved to: /tmp/tmpmrbt6vdm/output/model.json
2025-08-02 07:44:17,466 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpmrbt6vdm/output/model.json
2025-08-02 07:44:17,466 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,466 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,466 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
2025-08-02 07:44:17,466 - c2puml.core.transformer - INFO - Transformations complete. Model now has 3 files
2025-08-02 07:44:17,466 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpmrbt6vdm/output/model_transformed.json
2025-08-02 07:44:17,467 - root - INFO - Transformed model saved to: /tmp/tmpmrbt6vdm/output/model_transformed.json
2025-08-02 07:44:17,467 - root - INFO - PlantUML generation complete! Output in: /tmp/tmpmrbt6vdm/output
2025-08-02 07:44:17,467 - root - INFO - Complete workflow finished successfully!
ok
test_integration_plantuml_output_generation (feature.test_include_processing_features.TestIncludeProcessingIntegration.test_integration_plantuml_output_generation)
Test that PlantUML output is correctly generated. ... 2025-08-02 07:44:17,467 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,467 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmp_txym7hu
2025-08-02 07:44:17,467 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp_txym7hu
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmp_txym7hu: 2 files
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,468 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmp_txym7hu/output/model.json
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Found 2 total files across 1 source folder(s)
2025-08-02 07:44:17,468 - c2puml.core.parser - INFO - Summary: 1 structs, 0 enums, 1 functions
2025-08-02 07:44:17,468 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmp_txym7hu/output/model.json
2025-08-02 07:44:17,469 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,469 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,469 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,469 - c2puml.core.transformer - INFO - Transformations complete. Model now has 2 files
2025-08-02 07:44:17,469 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmp_txym7hu/output/transformed_model.json
ok
test_complete_workflow (feature.test_integration.TestIntegration.test_complete_workflow)
Test complete end-to-end workflow from parsing to PlantUML generation ... 2025-08-02 07:44:17,469 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpl8wzg_uk
2025-08-02 07:44:17,470 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,470 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,470 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_configuration_features (feature.test_integration.TestIntegration.test_configuration_features)
Test configuration loading and filtering features ... ok
test_error_handling (feature.test_integration.TestIntegration.test_error_handling)
Test error handling for various scenarios ... 2025-08-02 07:44:17,472 - root - WARNING - Failed to detect encoding for /non/existent/file.c: [Errno 2] No such file or directory: '/non/existent/file.c'
ok
test_performance_features (feature.test_integration.TestIntegration.test_performance_features)
Test performance with larger files ... 2025-08-02 07:44:17,472 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpxg2lowbk
2025-08-02 07:44:17,472 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,472 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,473 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_empty_source_folders_error (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_empty_source_folders_error)
Test that empty source_folders list raises an error ... ok
test_invalid_source_folder_error (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_invalid_source_folder_error)
Test that invalid source folder raises an error ... 2025-08-02 07:44:17,474 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,474 - c2puml.core.parser - INFO - Parsing source folder 1/1: /nonexistent/path
2025-08-02 07:44:17,474 - c2puml.core.parser - ERROR - Failed to parse source folder /nonexistent/path: Source folder not found: /nonexistent/path
ok
test_multiple_source_folders_parsing (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_multiple_source_folders_parsing)
Test that multiple source folders are parsed correctly ... ok
test_multiple_source_folders_with_config (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_multiple_source_folders_with_config)
Test multiple source folders with configuration and filters ... 2025-08-02 07:44:17,475 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 2 source folders
2025-08-02 07:44:17,475 - c2puml.core.parser - INFO - Parsing source folder 1/2: /tmp/tmpwscny1hb/src1
2025-08-02 07:44:17,475 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpwscny1hb/src1
2025-08-02 07:44:17,475 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,475 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,476 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,476 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpwscny1hb/src1: 2 files
2025-08-02 07:44:17,476 - c2puml.core.parser - INFO - Parsing source folder 2/2: /tmp/tmpwscny1hb/src2
2025-08-02 07:44:17,476 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpwscny1hb/src2
2025-08-02 07:44:17,476 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,476 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,477 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,477 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpwscny1hb/src2: 2 files
2025-08-02 07:44:17,477 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,477 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,477 - c2puml.core.verifier - WARNING -   - Invalid field name '30' in struct Person in main.c
2025-08-02 07:44:17,477 - c2puml.core.parser - WARNING - Model verification found 1 issues - model may contain parsing errors
2025-08-02 07:44:17,477 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpwscny1hb/filtered_model.json
2025-08-02 07:44:17,477 - c2puml.core.parser - INFO - Found 4 total files across 2 source folder(s)
2025-08-02 07:44:17,477 - c2puml.core.parser - INFO - Summary: 3 structs, 1 enums, 3 functions
ok
test_parser_multiple_source_folders_method (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_parser_multiple_source_folders_method)
Test the parse method with multiple source folders ... 2025-08-02 07:44:17,478 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 3 source folders
2025-08-02 07:44:17,478 - c2puml.core.parser - INFO - Parsing source folder 1/3: /tmp/tmpzr53vdep/src1
2025-08-02 07:44:17,478 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpzr53vdep/src1
2025-08-02 07:44:17,478 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,478 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpzr53vdep/src1: 2 files
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Parsing source folder 2/3: /tmp/tmpzr53vdep/src2
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpzr53vdep/src2
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpzr53vdep/src2: 2 files
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Parsing source folder 3/3: /tmp/tmpzr53vdep/src3
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpzr53vdep/src3
2025-08-02 07:44:17,479 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,480 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,480 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,480 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpzr53vdep/src3: 2 files
2025-08-02 07:44:17,480 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,481 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,481 - c2puml.core.verifier - WARNING -   - Invalid field name '30' in struct Person in main.c
2025-08-02 07:44:17,481 - c2puml.core.parser - WARNING - Model verification found 1 issues - model may contain parsing errors
2025-08-02 07:44:17,481 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpzr53vdep/combined_model.json
2025-08-02 07:44:17,481 - c2puml.core.parser - INFO - Found 6 total files across 3 source folder(s)
2025-08-02 07:44:17,481 - c2puml.core.parser - INFO - Summary: 5 structs, 1 enums, 3 functions
ok
test_project_name_from_config (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_project_name_from_config)
Test that project name is taken from configuration ... 2025-08-02 07:44:17,481 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 2 source folders
2025-08-02 07:44:17,481 - c2puml.core.parser - INFO - Parsing source folder 1/2: /tmp/tmpfcue6gpa/src1
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpfcue6gpa/src1
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpfcue6gpa/src1: 2 files
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Parsing source folder 2/2: /tmp/tmpfcue6gpa/src2
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpfcue6gpa/src2
2025-08-02 07:44:17,482 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpfcue6gpa/src2: 2 files
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,483 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,483 - c2puml.core.verifier - WARNING -   - Invalid field name '30' in struct Person in main.c
2025-08-02 07:44:17,483 - c2puml.core.parser - WARNING - Model verification found 1 issues - model may contain parsing errors
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpfcue6gpa/named_model.json
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - Found 4 total files across 2 source folder(s)
2025-08-02 07:44:17,483 - c2puml.core.parser - INFO - Summary: 3 structs, 1 enums, 3 functions
ok
test_single_source_folder_backward_compatibility (feature.test_multiple_source_folders.TestMultipleSourceFolders.test_single_source_folder_backward_compatibility)
Test that single source folder still works (backward compatibility) ... 2025-08-02 07:44:17,484 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,484 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpwo8_7tev/src1
2025-08-02 07:44:17,484 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpwo8_7tev/src1
2025-08-02 07:44:17,484 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,484 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,485 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,485 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpwo8_7tev/src1: 2 files
2025-08-02 07:44:17,485 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,485 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,485 - c2puml.core.verifier - WARNING -   - Invalid field name '30' in struct Person in main.c
2025-08-02 07:44:17,485 - c2puml.core.parser - WARNING - Model verification found 1 issues - model may contain parsing errors
2025-08-02 07:44:17,485 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpwo8_7tev/single_model.json
2025-08-02 07:44:17,485 - c2puml.core.parser - INFO - Found 2 total files across 1 source folder(s)
2025-08-02 07:44:17,485 - c2puml.core.parser - INFO - Summary: 2 structs, 0 enums, 2 functions
ok
test_include_filters_with_filtered_header (feature.test_transformer_features.TestTransformerFeatures.test_include_filters_with_filtered_header)
Test that include_filters preserve includes arrays and only affect include_relations generation ... 2025-08-02 07:44:17,486 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpwv_4hafq
2025-08-02 07:44:17,486 - c2puml.core.parser - INFO - Found 4 C/C++ files
2025-08-02 07:44:17,486 - c2puml.core.parser - INFO - After filtering: 4 C/C++ files
2025-08-02 07:44:17,487 - c2puml.core.parser - INFO - Parsing complete. Parsed 4 files successfully.
2025-08-02 07:44:17,487 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpwv_4hafq/parsed_model.json
2025-08-02 07:44:17,488 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,488 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,488 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,488 - c2puml.core.transformer - INFO - Transformations complete. Model now has 4 files
2025-08-02 07:44:17,488 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpwv_4hafq/parsed_model.json
ok
test_transform_complex_project_with_filters (feature.test_transformer_features.TestTransformerFeatures.test_transform_complex_project_with_filters)
Test transforming a complex project with various filters ... 2025-08-02 07:44:17,489 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpb8qmc_6d
2025-08-02 07:44:17,489 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,489 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,491 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
2025-08-02 07:44:17,491 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpb8qmc_6d/model.json
2025-08-02 07:44:17,491 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,492 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,492 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,492 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,492 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpb8qmc_6d/model.json
ok
test_transform_complex_regex_patterns (feature.test_transformer_features.TestTransformerFeatures.test_transform_complex_regex_patterns)
Test transforming with complex regex patterns ... 2025-08-02 07:44:17,493 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpqx1h0mz0
2025-08-02 07:44:17,493 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,493 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,494 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,494 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpqx1h0mz0/model.json
2025-08-02 07:44:17,494 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,494 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,494 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,494 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpqx1h0mz0/model.json
ok
test_transform_error_handling (feature.test_transformer_features.TestTransformerFeatures.test_transform_error_handling)
Test transformer error handling with invalid configurations ... 2025-08-02 07:44:17,495 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpcon8ac2z
2025-08-02 07:44:17,495 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,495 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,495 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,495 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpcon8ac2z/model.json
2025-08-02 07:44:17,495 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,495 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,495 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,496 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpcon8ac2z/model.json
2025-08-02 07:44:17,496 - c2puml.core.transformer - INFO - Step 2: Transforming model: /nonexistent/model.json
2025-08-02 07:44:17,496 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpcon8ac2z/model.json
ok
test_transform_integration_with_parser_and_generator (feature.test_transformer_features.TestTransformerFeatures.test_transform_integration_with_parser_and_generator)
Test full integration: parse -> transform -> generate ... 2025-08-02 07:44:17,496 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpdbq30h1j
2025-08-02 07:44:17,496 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,496 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,497 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
2025-08-02 07:44:17,498 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpdbq30h1j/parsed_model.json
2025-08-02 07:44:17,498 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,498 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,498 - c2puml.core.transformer - INFO - Transformations complete. Model now has 2 files
2025-08-02 07:44:17,498 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpdbq30h1j/parsed_model.json
ok
test_transform_with_additions (feature.test_transformer_features.TestTransformerFeatures.test_transform_with_additions)
Test transforming with element additions ... 2025-08-02 07:44:17,499 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp3q00kzhx
2025-08-02 07:44:17,499 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,499 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,499 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,499 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmp3q00kzhx/model.json
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - Converting legacy 'transformations' format to container format
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - Discovered 1 transformation containers: ['transformations_00_default']
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - Applying transformation container: transformations_00_default
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - After transformations_00_default: model contains 1 files with 1 total elements
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,500 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmp3q00kzhx/model.json
ok
test_transform_with_include_relations (feature.test_transformer_features.TestTransformerFeatures.test_transform_with_include_relations)
Test transforming with include relation processing ... 2025-08-02 07:44:17,501 - c2puml.core.parser - INFO - Parsing project: /tmp/tmphbbf8bwz
2025-08-02 07:44:17,501 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,501 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,502 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
2025-08-02 07:44:17,502 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmphbbf8bwz/model.json
2025-08-02 07:44:17,502 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,502 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,502 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
2025-08-02 07:44:17,502 - c2puml.core.transformer - INFO - Transformations complete. Model now has 3 files
2025-08-02 07:44:17,502 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmphbbf8bwz/model.json
ok
test_transform_with_removals (feature.test_transformer_features.TestTransformerFeatures.test_transform_with_removals)
Test transforming with element removals ... 2025-08-02 07:44:17,503 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpqwzwp14h
2025-08-02 07:44:17,503 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,503 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,504 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpqwzwp14h/model.json
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Converting legacy 'transformations' format to container format
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Discovered 1 transformation containers: ['transformations_00_default']
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Applying transformation container: transformations_00_default
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Removed 1 structs from test.c
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Removed 1 enums from test.c
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - After transformations_00_default: model contains 1 files with 2 total elements
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,504 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpqwzwp14h/model.json
ok
test_transform_with_renaming (feature.test_transformer_features.TestTransformerFeatures.test_transform_with_renaming)
Test transforming with element renaming ... 2025-08-02 07:44:17,505 - c2puml.core.parser - INFO - Parsing project: /tmp/tmppgcmi3yk
2025-08-02 07:44:17,505 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,505 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,506 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmppgcmi3yk/model.json
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Converting legacy 'transformations' format to container format
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Discovered 1 transformation containers: ['transformations_00_default']
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Applying transformation container: transformations_00_default
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - After transformations_00_default: model contains 1 files with 3 total elements
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,506 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmppgcmi3yk/model.json
ok
test_complete_system_integration_real_world_project (integration.test_comprehensive.TestEndToEndSystemIntegration.test_complete_system_integration_real_world_project)
Test complete system integration with realistic project. ... 2025-08-02 07:44:17,508 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,508 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpuuwkhcra
2025-08-02 07:44:17,508 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpuuwkhcra
2025-08-02 07:44:17,508 - c2puml.core.parser - INFO - Found 11 C/C++ files
2025-08-02 07:44:17,508 - c2puml.core.parser - INFO - After filtering: 11 C/C++ files
2025-08-02 07:44:17,512 - c2puml.core.parser - INFO - Parsing complete. Parsed 11 files successfully.
2025-08-02 07:44:17,512 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpuuwkhcra: 11 files
2025-08-02 07:44:17,512 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,513 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,513 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,513 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpuuwkhcra/output/model.json
2025-08-02 07:44:17,513 - c2puml.core.parser - INFO - Found 11 total files across 1 source folder(s)
2025-08-02 07:44:17,513 - c2puml.core.parser - INFO - Summary: 10 structs, 0 enums, 12 functions
2025-08-02 07:44:17,513 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpuuwkhcra/output/model.json
2025-08-02 07:44:17,513 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,513 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,513 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=5)
2025-08-02 07:44:17,513 - c2puml.core.transformer - INFO - Transformations complete. Model now has 11 files
2025-08-02 07:44:17,514 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpuuwkhcra/output/transformed_model.json
ok
test_comprehensive_c_to_h_relationships_integration (integration.test_comprehensive.TestIncludeProcessingIntegrationComprehensive.test_comprehensive_c_to_h_relationships_integration)
Test comprehensive C to H file relationships with full integration. ... 2025-08-02 07:44:17,516 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,516 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmpd45iorkr
2025-08-02 07:44:17,516 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpd45iorkr
2025-08-02 07:44:17,516 - c2puml.core.parser - INFO - Found 9 C/C++ files
2025-08-02 07:44:17,516 - c2puml.core.parser - INFO - After filtering: 9 C/C++ files
2025-08-02 07:44:17,519 - c2puml.core.parser - INFO - Parsing complete. Parsed 9 files successfully.
2025-08-02 07:44:17,519 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmpd45iorkr: 9 files
2025-08-02 07:44:17,519 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,520 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,520 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,520 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmpd45iorkr/output/model.json
2025-08-02 07:44:17,520 - c2puml.core.parser - INFO - Found 9 total files across 1 source folder(s)
2025-08-02 07:44:17,520 - c2puml.core.parser - INFO - Summary: 7 structs, 0 enums, 10 functions
2025-08-02 07:44:17,520 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpd45iorkr/output/model.json
2025-08-02 07:44:17,520 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,520 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,520 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=4)
2025-08-02 07:44:17,520 - c2puml.core.transformer - INFO - Transformations complete. Model now has 9 files
2025-08-02 07:44:17,521 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpd45iorkr/output/transformed_model.json
ok
test_comprehensive_header_to_header_relationships_integration (integration.test_comprehensive.TestIncludeProcessingIntegrationComprehensive.test_comprehensive_header_to_header_relationships_integration)
Test comprehensive header to header relationships integration. ... 2025-08-02 07:44:17,522 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,522 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmp_v1tbm22
2025-08-02 07:44:17,522 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp_v1tbm22
2025-08-02 07:44:17,522 - c2puml.core.parser - INFO - Found 5 C/C++ files
2025-08-02 07:44:17,522 - c2puml.core.parser - INFO - After filtering: 5 C/C++ files
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Parsing complete. Parsed 5 files successfully.
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmp_v1tbm22: 5 files
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,524 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmp_v1tbm22/output/model.json
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Found 5 total files across 1 source folder(s)
2025-08-02 07:44:17,524 - c2puml.core.parser - INFO - Summary: 4 structs, 0 enums, 3 functions
2025-08-02 07:44:17,524 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmp_v1tbm22/output/model.json
2025-08-02 07:44:17,524 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,524 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,524 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=4)
2025-08-02 07:44:17,524 - c2puml.core.transformer - INFO - Transformations complete. Model now has 5 files
2025-08-02 07:44:17,525 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmp_v1tbm22/output/transformed_model.json
ok
test_comprehensive_typedef_relationships_integration (integration.test_comprehensive.TestIncludeProcessingIntegrationComprehensive.test_comprehensive_typedef_relationships_integration)
Test comprehensive typedef relationships across files integration. ... 2025-08-02 07:44:17,526 - c2puml.core.parser - INFO - Step 1: Parsing C/C++ project with 1 source folders
2025-08-02 07:44:17,526 - c2puml.core.parser - INFO - Parsing source folder 1/1: /tmp/tmps4zxo0is
2025-08-02 07:44:17,526 - c2puml.core.parser - INFO - Parsing project: /tmp/tmps4zxo0is
2025-08-02 07:44:17,526 - c2puml.core.parser - INFO - Found 4 C/C++ files
2025-08-02 07:44:17,526 - c2puml.core.parser - INFO - After filtering: 4 C/C++ files
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Parsing complete. Parsed 4 files successfully.
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Successfully parsed source folder /tmp/tmps4zxo0is: 4 files
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Step 1.5: Verifying model sanity...
2025-08-02 07:44:17,528 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Step 1 complete! Model saved to: /tmp/tmps4zxo0is/output/model.json
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Found 4 total files across 1 source folder(s)
2025-08-02 07:44:17,528 - c2puml.core.parser - INFO - Summary: 4 structs, 1 enums, 4 functions
2025-08-02 07:44:17,528 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmps4zxo0is/output/model.json
2025-08-02 07:44:17,529 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,529 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,529 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
2025-08-02 07:44:17,529 - c2puml.core.transformer - INFO - Transformations complete. Model now has 4 files
2025-08-02 07:44:17,529 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmps4zxo0is/output/transformed_model.json
ok
test_parser_tokenizer_complex_syntax_integration (integration.test_comprehensive.TestParserTokenizerIntegration.test_parser_tokenizer_complex_syntax_integration)
Test parser-tokenizer integration with complex C syntax. ... ok
test_parser_tokenizer_error_handling_integration (integration.test_comprehensive.TestParserTokenizerIntegration.test_parser_tokenizer_error_handling_integration)
Test that parser gracefully handles tokenizer errors. ... ok
test_parser_tokenizer_function_parsing_integration (integration.test_comprehensive.TestParserTokenizerIntegration.test_parser_tokenizer_function_parsing_integration)
Test that parser correctly uses tokenizer for function parsing. ... ok
test_parser_tokenizer_preprocessor_integration (integration.test_comprehensive.TestParserTokenizerIntegration.test_parser_tokenizer_preprocessor_integration)
Test that parser handles preprocessor directives through tokenizer. ... ok
test_parser_tokenizer_struct_parsing_integration (integration.test_comprehensive.TestParserTokenizerIntegration.test_parser_tokenizer_struct_parsing_integration)
Test that parser correctly uses tokenizer for struct parsing. ... ok
test_absolute_vs_relative_path_consistency (unit.test_absolute_path_bug_detection.TestAbsolutePathBugDetection.test_absolute_vs_relative_path_consistency)
Test that absolute and relative paths are handled consistently. ... 2025-08-02 07:44:17,534 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp2te222s4
2025-08-02 07:44:17,534 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,534 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,535 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
2025-08-02 07:44:17,535 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp2te222s4
2025-08-02 07:44:17,535 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,535 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,535 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_mixed_path_styles_handling (unit.test_absolute_path_bug_detection.TestAbsolutePathBugDetection.test_mixed_path_styles_handling)
Test handling of mixed path styles (forward/backward slashes). ... 2025-08-02 07:44:17,536 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpk3f6mhw7
2025-08-02 07:44:17,536 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,536 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,536 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_relative_path_handling_in_include_tree (unit.test_absolute_path_bug_detection.TestAbsolutePathBugDetection.test_relative_path_handling_in_include_tree)
Test that relative paths are handled correctly in include tree building. ... 2025-08-02 07:44:17,537 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp1767_zsp
2025-08-02 07:44:17,537 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,537 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,537 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_subdirectory_includes_path_resolution (unit.test_absolute_path_bug_detection.TestAbsolutePathBugDetection.test_subdirectory_includes_path_resolution)
Test path resolution for includes in subdirectories. ... 2025-08-02 07:44:17,538 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpn4az65nj
2025-08-02 07:44:17,538 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,538 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,538 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_config_equality (unit.test_config.TestConfig.test_config_equality)
Test configuration equality comparison ... ok
test_config_repr (unit.test_config.TestConfig.test_config_repr)
Test configuration string representation ... ok
test_config_validation (unit.test_config.TestConfig.test_config_validation)
Test configuration validation ... ok
test_default_config_values (unit.test_config.TestConfig.test_default_config_values)
Test default configuration values ... ok
test_empty_source_folders (unit.test_config.TestConfig.test_empty_source_folders)
Test that empty source_folders list is handled correctly ... ok
test_file_filtering (unit.test_config.TestConfig.test_file_filtering)
Test file filtering functionality ... ok
test_invalid_regex_patterns (unit.test_config.TestConfig.test_invalid_regex_patterns)
Test handling of invalid regex patterns ... 2025-08-02 07:44:17,540 - c2puml.config - WARNING - Invalid include pattern '[invalid_regex': unterminated character set at position 0
2025-08-02 07:44:17,540 - c2puml.config - WARNING - Invalid exclude pattern '[invalid_regex': unterminated character set at position 0
ok
test_load_config_with_filters (unit.test_config.TestConfig.test_load_config_with_filters)
Test loading configuration with file and element filters ... ok
test_load_valid_config (unit.test_config.TestConfig.test_load_valid_config)
Test loading a valid configuration file ... ok
test_model_filtering (unit.test_config.TestConfig.test_model_filtering)
Test applying filters to a complete model ... ok
test_multiple_source_folders (unit.test_config.TestConfig.test_multiple_source_folders)
Test that configuration with multiple source folders for targeted searching is handled correctly ... ok
test_save_and_load_config (unit.test_config.TestConfig.test_save_and_load_config)
Test saving and loading configuration ... ok
test_single_source_folder (unit.test_config.TestConfig.test_single_source_folder)
Test that single source folder is handled correctly (backward compatibility) ... ok
test_complex_parameter_types (unit.test_function_parameters.TestFunctionParameters.test_complex_parameter_types)
Test functions with complex parameter types ... ok
test_empty_parameter_list (unit.test_function_parameters.TestFunctionParameters.test_empty_parameter_list)
Test functions with no parameters (void) ... ok
test_function_parameter_display (unit.test_function_parameters.TestFunctionParameters.test_function_parameter_display)
Test that function parameters are correctly displayed in PlantUML ... ok
test_function_parameter_parsing (unit.test_function_parameters.TestFunctionParameters.test_function_parameter_parsing)
Test that function parameters are correctly parsed ... ok
test_enum_generation_with_values (unit.test_generator.TestGenerator.test_enum_generation_with_values)
Test enum generation with specific values ... 2025-08-02 07:44:17,542 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpx9wou2ik
2025-08-02 07:44:17,542 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,542 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,542 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_function_parameter_truncation (unit.test_generator.TestGenerator.test_function_parameter_truncation)
Test that long function signatures are properly truncated ... 2025-08-02 07:44:17,543 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpmrj8tldr
2025-08-02 07:44:17,543 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,543 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,543 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_generate_basic_plantuml_content (unit.test_generator.TestGenerator.test_generate_basic_plantuml_content)
Test basic PlantUML content generation ... 2025-08-02 07:44:17,544 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp64u6ljza
2025-08-02 07:44:17,544 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,544 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,544 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_generate_empty_file_model (unit.test_generator.TestGenerator.test_generate_empty_file_model)
Test generating diagram for empty file model ... ok
test_generate_error_handling (unit.test_generator.TestGenerator.test_generate_error_handling)
Test error handling in diagram generation ... ok
test_generate_file_diagram (unit.test_generator.TestGenerator.test_generate_file_diagram)
Test generating a PlantUML diagram file ... ok
test_generate_from_model (unit.test_generator.TestGenerator.test_generate_from_model)
Test generating diagrams from a model file ... ok
test_generate_multiple_files (unit.test_generator.TestGenerator.test_generate_multiple_files)
Test generating diagrams for multiple files ... ok
test_generate_with_config (unit.test_generator.TestGenerator.test_generate_with_config)
Test generating diagrams using configuration ... ok
test_generate_with_macros (unit.test_generator.TestGenerator.test_generate_with_macros)
Test PlantUML generation with macros ... 2025-08-02 07:44:17,547 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpkqw37q7e
2025-08-02 07:44:17,547 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,547 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,548 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_generate_with_special_characters (unit.test_generator.TestGenerator.test_generate_with_special_characters)
Test generation with special characters in names ... 2025-08-02 07:44:17,548 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpxg8344cp
2025-08-02 07:44:17,548 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,548 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,548 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_global_variables_generation (unit.test_generator.TestGenerator.test_global_variables_generation)
Test that global variables are properly generated ... ok
test_global_variables_with_real_parsing (unit.test_generator.TestGenerator.test_global_variables_with_real_parsing)
Test global variables generation with real C code parsing ... 2025-08-02 07:44:17,549 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpt9q_sug4
2025-08-02 07:44:17,549 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,549 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,549 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_header_vs_source_prefixes (unit.test_generator.TestGenerator.test_header_vs_source_prefixes)
Test that headers use + prefix and sources use - prefix for macros ... 2025-08-02 07:44:17,550 - c2puml.core.parser - INFO - Parsing project: /tmp/tmph3pxp9oo
2025-08-02 07:44:17,550 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,550 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,550 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_include_relationships_generation (unit.test_generator.TestGenerator.test_include_relationships_generation)
Test that include relationships are properly generated ... 2025-08-02 07:44:17,550 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp3cpehhhu
2025-08-02 07:44:17,551 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,551 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,551 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_output_directory_creation (unit.test_generator.TestGenerator.test_output_directory_creation)
Test that output directory is created if it doesn't exist ... ok
test_plantuml_syntax_validity (unit.test_generator.TestGenerator.test_plantuml_syntax_validity)
Test that generated PlantUML syntax is valid ... ok
test_relationship_generation (unit.test_generator.TestGenerator.test_relationship_generation)
Test that relationships are properly generated when they exist ... 2025-08-02 07:44:17,552 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpac01kgd1
2025-08-02 07:44:17,552 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,553 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,553 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_typedef_generation_comprehensive (unit.test_generator.TestGenerator.test_typedef_generation_comprehensive)
Test that all typedef types (structs, enums, unions, aliases) are generated ... ok
test_union_generation (unit.test_generator.TestGenerator.test_union_generation)
Test union generation with real C code parsing ... 2025-08-02 07:44:17,553 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpq5t6nwpv
2025-08-02 07:44:17,553 - c2puml.core.parser - INFO - Found 1 C/C++ files
2025-08-02 07:44:17,553 - c2puml.core.parser - INFO - After filtering: 1 C/C++ files
2025-08-02 07:44:17,554 - c2puml.core.parser - INFO - Parsing complete. Parsed 1 files successfully.
ok
test_duplicate_include_relationships_bug (unit.test_generator_duplicate_includes.TestGeneratorDuplicateIncludes.test_duplicate_include_relationships_bug)
Test that reproduces the duplicate include relationships bug ... Generated include relationships:
  MAIN --> HEADER_UTILS : <<include>>
  HEADER_UTILS --> HEADER_CONFIG : <<include>>

Relationship counts:
  1x: MAIN --> HEADER_UTILS : <<include>>
  1x: HEADER_UTILS --> HEADER_CONFIG : <<include>>
ok
test_include_relationships_with_multiple_c_files (unit.test_generator_duplicate_includes.TestGeneratorDuplicateIncludes.test_include_relationships_with_multiple_c_files)
Test that multiple .c files don't create conflicts ... ok
test_build_include_tree_debug_info (unit.test_generator_include_tree_bug.TestGeneratorIncludeTreeBug.test_build_include_tree_debug_info)
Test to provide debug information about the bug ... Project model files keys: ['main.c', 'utils.h']
Root file path: /tmp/tmpc6_0fsz0/main.c
Root file name: main.c
Root file key used: main.c
Include tree keys: ['main.c', 'utils.h']
Expected keys: ['main.c', 'utils.h']
ok
test_build_include_tree_mixed_paths (unit.test_generator_include_tree_bug.TestGeneratorIncludeTreeBug.test_build_include_tree_mixed_paths)
Test the bug with mixed absolute and relative paths ... ok
test_build_include_tree_with_absolute_paths (unit.test_generator_include_tree_bug.TestGeneratorIncludeTreeBug.test_build_include_tree_with_absolute_paths)
Test that _build_include_tree works correctly with absolute paths ... ok
test_build_include_tree_with_relative_paths (unit.test_generator_include_tree_bug.TestGeneratorIncludeTreeBug.test_build_include_tree_with_relative_paths)
Test that _build_include_tree works correctly with relative paths (control test) ... ok
test_complex_function_bodies (unit.test_global_parsing.TestGlobalParsing.test_complex_function_bodies)
Test that complex function bodies don't interfere with global parsing ... ok
test_global_variables_only (unit.test_global_parsing.TestGlobalParsing.test_global_variables_only)
Test that only actual global variables are parsed ... ok
test_static_variables (unit.test_global_parsing.TestGlobalParsing.test_static_variables)
Test that static variables are correctly identified as globals ... ok
test_duplicate_method_definition_bug (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_duplicate_method_definition_bug)
Test that there are not multiple definitions of the same method ... ok
test_header_mapping_with_multiple_c_files_bug (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_header_mapping_with_multiple_c_files_bug)
Test that header mapping is incorrect when multiple C files exist ... ok
test_improved_header_mapping_logic (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_improved_header_mapping_logic)
Test that the improved header mapping correctly maps headers to appropriate C files ... ok
test_include_filter_file_path_vs_filename_bug (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_include_filter_file_path_vs_filename_bug)
Test bug with file path vs filename confusion in include filtering ... 2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
ok
test_include_filter_regex_pattern_edge_cases (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_include_filter_regex_pattern_edge_cases)
Test edge cases in regex pattern matching that might not work correctly ... 2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
Test case 1 failed with error: 'stdio.h' not found in set() : stdio.h should be included
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - WARNING - Invalid regex pattern for root file main.c: unterminated character set at position 0
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - WARNING - No valid include filters found, skipping include filtering
ok
test_include_filter_with_no_matching_files (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_include_filter_with_no_matching_files)
Test include filtering when no files match the specified root file names ... 2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
ok
test_include_filters_should_not_modify_includes_arrays (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_include_filters_should_not_modify_includes_arrays)
Test that include_filters should preserve includes arrays and only affect include_relations generation ... 2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
‚úó BUG: includes array was modified by include_filters (it shouldn't be)
  Original: {'stdio.h', 'stdlib.h', 'string.h'}
  Filtered: {'stdio.h'}
ok
test_include_relations_vs_includes_array_consistency (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_include_relations_vs_includes_array_consistency)
Test that the direct _apply_include_filters method filters both includes and include_relations consistently ... 2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
ok
test_newer_vs_direct_include_processing_methods (unit.test_include_filtering_bugs.TestIncludeFilteringBugs.test_newer_vs_direct_include_processing_methods)
Test consistency between transformation pipeline and direct _apply_include_filters method ... 2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,558 - src.c2puml.core.transformer - INFO - Applying include filters for 1 root files
ok
test_simplified_cycle_prevention (unit.test_include_filtering_bugs.TestSimplifiedIncludeProcessing.test_simplified_cycle_prevention)
Test that simplified processing prevents cycles correctly ... 2025-08-02 07:44:17,559 - src.c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=5)
ok
test_simplified_depth_based_processing (unit.test_include_filtering_bugs.TestSimplifiedIncludeProcessing.test_simplified_depth_based_processing)
Test that simplified processing follows depth-based layer approach correctly ... 2025-08-02 07:44:17,559 - src.c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
ok
test_simplified_single_root_per_c_file (unit.test_include_filtering_bugs.TestSimplifiedIncludeProcessing.test_simplified_single_root_per_c_file)
Test that each C file processes its own include structure independently ... 2025-08-02 07:44:17,559 - src.c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
ok
test_simplified_with_filters (unit.test_include_filtering_bugs.TestSimplifiedIncludeProcessing.test_simplified_with_filters)
Test that simplified processing applies filters correctly at each depth ... 2025-08-02 07:44:17,559 - src.c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
ok
test_circular_includes_handling (unit.test_include_processing.TestIncludeProcessingBug.test_circular_includes_handling)
Test that circular includes are handled gracefully. ... 2025-08-02 07:44:17,559 - c2puml.core.parser - INFO - Parsing project: /tmp/tmp4horncob
2025-08-02 07:44:17,560 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,560 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,560 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
ok
test_include_depth_control (unit.test_include_processing.TestIncludeProcessingBug.test_include_depth_control)
Test that include depth parameter controls how deep includes are processed. ... 2025-08-02 07:44:17,561 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpdrfdwmfs
2025-08-02 07:44:17,561 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,561 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,561 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
ok
test_include_tree_generation_bug (unit.test_include_processing.TestIncludeProcessingBug.test_include_tree_generation_bug)
Test that include tree is correctly generated for files with includes. ... 2025-08-02 07:44:17,562 - c2puml.core.parser - INFO - Parsing project: /tmp/tmppcuin44f
2025-08-02 07:44:17,562 - c2puml.core.parser - INFO - Found 2 C/C++ files
2025-08-02 07:44:17,562 - c2puml.core.parser - INFO - After filtering: 2 C/C++ files
2025-08-02 07:44:17,562 - c2puml.core.parser - INFO - Parsing complete. Parsed 2 files successfully.
ok
test_complete_file_parsing (unit.test_parser.TestCParser.test_complete_file_parsing)
Test parsing a complete C file with all elements ... ok
test_encoding_detection (unit.test_parser.TestCParser.test_encoding_detection)
Test that files with various encodings can be parsed correctly ... ok
test_parse_enums (unit.test_parser.TestCParser.test_parse_enums)
Test parsing enum definitions ... ok
test_parse_functions (unit.test_parser.TestCParser.test_parse_functions)
Test parsing function declarations ... ok
test_parse_globals (unit.test_parser.TestCParser.test_parse_globals)
Test parsing global variables ... ok
test_parse_includes (unit.test_parser.TestCParser.test_parse_includes)
Test parsing include statements ... ok
test_parse_macros (unit.test_parser.TestCParser.test_parse_macros)
Test parsing macro definitions ... ok
test_parse_simple_c_file (unit.test_parser.TestCParser.test_parse_simple_c_file)
Test parsing a simple C file ... ok
test_parse_structs (unit.test_parser.TestCParser.test_parse_structs)
Test parsing struct definitions ... ok
test_parse_typedefs (unit.test_parser.TestCParser.test_parse_typedefs)
Test parsing typedef declarations ... ok
test_parse_anonymous_struct (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_anonymous_struct)
Test parsing anonymous struct definitions ... ok
test_parse_arrow_operator (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_arrow_operator)
Test parsing code with arrow operator (->) ... ok
test_parse_complex_file (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_complex_file)
Test parsing a complex C file with multiple constructs ... ok
test_parse_complex_global_initializers (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_complex_global_initializers)
Test parsing global variables with complex initializers ... ok
test_parse_enum_simple (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_enum_simple)
Test parsing simple enum definitions ... ok
test_parse_file_encoding_detection (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_encoding_detection)
Test parsing file with different encodings ... ok
test_parse_file_error_handling (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_error_handling)
Test error handling for invalid files ... 2025-08-02 07:44:17,572 - root - WARNING - Failed to detect encoding for /nonexistent/file.c: [Errno 2] No such file or directory: '/nonexistent/file.c'
ok
test_parse_file_with_arrays (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_arrays)
Test parsing file with array declarations ... ok
test_parse_file_with_bit_fields (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_bit_fields)
Test parsing file with bit fields ... ok
test_parse_file_with_comments (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_comments)
Test parsing file with various comment types ... ok
test_parse_file_with_complex_typedefs (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_complex_typedefs)
Test parsing file with complex typedef definitions ... ok
test_parse_file_with_const_and_volatile (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_const_and_volatile)
Test parsing file with const and volatile qualifiers ... ok
test_parse_file_with_forward_declarations (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_forward_declarations)
Test parsing file with forward declarations ... ok
test_parse_file_with_function_pointers (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_function_pointers)
Test parsing file with function pointers ... ok
test_parse_file_with_malformed_code (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_malformed_code)
Test parsing file with malformed C code ... ok
test_parse_file_with_mixed_content (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_mixed_content)
Test parsing file with mixed content from example files ... ok
test_parse_file_with_nested_structures (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_nested_structures)
Test parsing file with nested structures ... ok
test_parse_file_with_preprocessor_conditionals (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_preprocessor_conditionals)
Test parsing file with preprocessor conditionals ... ok
test_parse_file_with_unnamed_parameters (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_unnamed_parameters)
Test parsing file with unnamed function parameters ... ok
test_parse_file_with_variadic_functions (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_file_with_variadic_functions)
Test parsing file with variadic functions ... ok
test_parse_function_declaration (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_function_declaration)
Test parsing function declarations ... ok
test_parse_function_definition (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_function_definition)
Test parsing function definitions ... ok
test_parse_function_with_modifiers (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_function_with_modifiers)
Test parsing functions with modifiers ... ok
test_parse_global_variables (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_global_variables)
Test parsing global variables ... ok
test_parse_includes (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_includes)
Test parsing include directives ... ok
test_parse_macros (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_macros)
Test parsing macro definitions ... ok
test_parse_mixed_struct_constructs (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_mixed_struct_constructs)
Test parsing mixed struct constructs (definitions, declarations, casts) ... ok
test_parse_nested_struct (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_nested_struct)
Test parsing nested struct definitions ... ok
test_parse_project (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_project)
Test parsing an entire project ... 2025-08-02 07:44:17,581 - c2puml.core.parser - INFO - Parsing project: /tmp/tmpli8ehjru
2025-08-02 07:44:17,581 - c2puml.core.parser - INFO - Found 3 C/C++ files
2025-08-02 07:44:17,581 - c2puml.core.parser - INFO - After filtering: 3 C/C++ files
2025-08-02 07:44:17,582 - c2puml.core.parser - INFO - Parsing complete. Parsed 3 files successfully.
ok
test_parse_simple_struct (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_simple_struct)
Test parsing a simple struct definition ... ok
test_parse_struct_cast_expressions (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_struct_cast_expressions)
Test parsing code with struct cast expressions ... ok
test_parse_struct_variable_declarations (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_struct_variable_declarations)
Test parsing struct variable declarations vs struct definitions ... ok
test_parse_typedef_enum (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_typedef_enum)
Test parsing typedef enum definitions ... ok
test_parse_typedef_struct (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_typedef_struct)
Test parsing typedef struct definitions ... ok
test_parse_typedefs (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_typedefs)
Test parsing typedef definitions ... ok
test_parse_union (unit.test_parser_comprehensive.TestCParserComprehensive.test_parse_union)
Test parsing union definitions ... ok
test_config_equality (unit.test_parser_filtering.TestUserConfigurableFiltering.test_config_equality)
Test configuration equality comparison ... ok
test_config_has_filters (unit.test_parser_filtering.TestUserConfigurableFiltering.test_config_has_filters)
Test the has_filters method ... ok
test_config_loading_with_filters (unit.test_parser_filtering.TestUserConfigurableFiltering.test_config_loading_with_filters)
Test loading configuration with filters from JSON ... ok
test_empty_filters (unit.test_parser_filtering.TestUserConfigurableFiltering.test_empty_filters)
Test behavior with empty filter configurations ... ok
test_file_filters_exclude_patterns (unit.test_parser_filtering.TestUserConfigurableFiltering.test_file_filters_exclude_patterns)
Test file filtering with exclude patterns ... ok
test_file_filters_include_and_exclude (unit.test_parser_filtering.TestUserConfigurableFiltering.test_file_filters_include_and_exclude)
Test file filtering with both include and exclude patterns ... ok
test_file_filters_include_patterns (unit.test_parser_filtering.TestUserConfigurableFiltering.test_file_filters_include_patterns)
Test file filtering with include patterns ... ok
test_invalid_regex_patterns (unit.test_parser_filtering.TestUserConfigurableFiltering.test_invalid_regex_patterns)
Test handling of invalid regex patterns in filters ... 2025-08-02 07:44:17,585 - c2puml.config - WARNING - Invalid include pattern '[invalid_regex': unterminated character set at position 0
2025-08-02 07:44:17,585 - c2puml.config - WARNING - Invalid exclude pattern '[invalid_exclude': unterminated character set at position 0
ok
test_complex_preprocessor_conditions (unit.test_preprocessor_bug.TestPreprocessorBug.test_complex_preprocessor_conditions)
Test complex preprocessor conditions. ... ok
test_if_else_endif_block (unit.test_preprocessor_bug.TestPreprocessorBug.test_if_else_endif_block)
Test #if/#else/#endif block processing. ... ok
test_nested_preprocessor_blocks (unit.test_preprocessor_bug.TestPreprocessorBug.test_nested_preprocessor_blocks)
Test nested #if blocks processing. ... ok
test_preprocessor_edge_case_empty_blocks (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_edge_case_empty_blocks)
Test preprocessing directives with empty blocks. ... ok
test_preprocessor_edge_case_malformed (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_edge_case_malformed)
Test preprocessing directives with malformed conditions. ... ok
test_preprocessor_in_array_typedefs (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_in_array_typedefs)
Test preprocessing directives in array typedefs. ... ok
test_preprocessor_in_function_declarations (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_in_function_declarations)
Test preprocessing directives in function declarations. ... ok
test_preprocessor_in_function_pointers (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_in_function_pointers)
Test preprocessing directives in function pointer typedefs. ... ok
test_preprocessor_in_global_variables (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_in_global_variables)
Test preprocessing directives in global variable declarations. ... ok
test_preprocessor_in_typedefs (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_in_typedefs)
Test preprocessing directives within typedef definitions. ... ok
test_preprocessor_in_unions (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_in_unions)
Test preprocessing directives in union typedefs. ... ok
test_preprocessor_with_comments (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_comments)
Test preprocessing directives with comments. ... ok
test_preprocessor_with_complex_expressions (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_complex_expressions)
Test preprocessing directives with complex expressions. ... ok
test_preprocessor_with_defined_operator (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_defined_operator)
Test preprocessing directives with defined() operator. ... ok
test_preprocessor_with_ifndef (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_ifndef)
Test preprocessing directives with #ifndef. ... ok
test_preprocessor_with_multiline_conditions (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_multiline_conditions)
Test preprocessing directives with multiline conditions. ... ok
test_preprocessor_with_string_literals (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_string_literals)
Test preprocessing directives with string literals in conditions. ... ok
test_preprocessor_with_whitespace_variations (unit.test_preprocessor_bug.TestPreprocessorBug.test_preprocessor_with_whitespace_variations)
Test preprocessing directives with various whitespace patterns. ... ok
test_simple_if_endif_block (unit.test_preprocessor_bug.TestPreprocessorBug.test_simple_if_endif_block)
Test simple #if/#endif block processing. ... ok
test_multiline_preprocessor_directive (unit.test_preprocessor_handling.TestPreprocessorHandling.test_multiline_preprocessor_directive)
Test multiline preprocessor directive ... ok
test_nested_preprocessor_blocks (unit.test_preprocessor_handling.TestPreprocessorHandling.test_nested_preprocessor_blocks)
Test nested #if blocks ... ok
test_preprocessor_directive_tokenization (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_directive_tokenization)
Test that preprocessor directives are properly tokenized ... ok
test_preprocessor_with_comments (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_comments)
Test preprocessor directives with comments ... ok
test_preprocessor_with_elif (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_elif)
Test #if/#elif/#else/#endif block ... ok
test_preprocessor_with_else_branch (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_else_branch)
Test #if/#else/#endif block ... ok
test_preprocessor_with_empty_blocks (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_empty_blocks)
Test preprocessor directives with empty blocks ... ok
test_preprocessor_with_enums (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_enums)
Test preprocessor directives containing enum definitions ... ok
test_preprocessor_with_functions (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_functions)
Test preprocessor directives containing function declarations ... ok
test_preprocessor_with_mixed_content (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_mixed_content)
Test preprocessor directives with mixed content types ... ok
test_preprocessor_with_structs (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_structs)
Test preprocessor directives containing struct definitions ... ok
test_preprocessor_with_typedefs (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_typedefs)
Test preprocessor directives containing typedef definitions ... ok
test_preprocessor_with_whitespace_variations (unit.test_preprocessor_handling.TestPreprocessorHandling.test_preprocessor_with_whitespace_variations)
Test preprocessor directives with various whitespace patterns ... ok
test_simple_preprocessor_conditional (unit.test_preprocessor_handling.TestPreprocessorHandling.test_simple_preprocessor_conditional)
Test simple #if/#endif block ... ok
test_filter_tokens (unit.test_tokenizer.TestCTokenizer.test_filter_tokens)
Test token filtering functionality ... Filtered tokens: [Token(INT, 'int', 1:0), Token(IDENTIFIER, 'x', 1:4), Token(SEMICOLON, ';', 1:5), Token(CHAR, 'char', 2:0), Token(IDENTIFIER, 'y', 2:5), Token(SEMICOLON, ';', 2:6)]
Filtered types: [<TokenType.INT: 'INT'>, <TokenType.IDENTIFIER: 'IDENTIFIER'>, <TokenType.SEMICOLON: 'SEMICOLON'>, <TokenType.CHAR: 'CHAR'>, <TokenType.IDENTIFIER: 'IDENTIFIER'>, <TokenType.SEMICOLON: 'SEMICOLON'>]
ok
test_filter_tokens_custom_exclude (unit.test_tokenizer.TestCTokenizer.test_filter_tokens_custom_exclude)
Test token filtering with custom exclude types ... ok
test_tokenize_char_literals (unit.test_tokenizer.TestCTokenizer.test_tokenize_char_literals)
Test tokenization of character literals ... ok
test_tokenize_comments (unit.test_tokenizer.TestCTokenizer.test_tokenize_comments)
Test tokenization of comments ... ok
test_tokenize_complex_expression (unit.test_tokenizer.TestCTokenizer.test_tokenize_complex_expression)
Test tokenization of complex C expressions ... ok
test_tokenize_data_types (unit.test_tokenizer.TestCTokenizer.test_tokenize_data_types)
Test tokenization of C data types ... ok
test_tokenize_edge_cases (unit.test_tokenizer.TestCTokenizer.test_tokenize_edge_cases)
Test tokenization of edge cases ... All tokens: [Token(UNKNOWN, '@', 1:0), Token(UNKNOWN, '#', 1:1), Token(UNKNOWN, '$', 1:2), Token(UNKNOWN, '%', 1:3), Token(EOF, '', 1:4)]
Unknown tokens: [Token(UNKNOWN, '@', 1:0), Token(UNKNOWN, '#', 1:1), Token(UNKNOWN, '$', 1:2), Token(UNKNOWN, '%', 1:3)]
ok
test_tokenize_identifiers (unit.test_tokenizer.TestCTokenizer.test_tokenize_identifiers)
Test tokenization of identifiers ... ok
test_tokenize_keywords (unit.test_tokenizer.TestCTokenizer.test_tokenize_keywords)
Test tokenization of C keywords ... ok
test_tokenize_line_numbers_and_columns (unit.test_tokenizer.TestCTokenizer.test_tokenize_line_numbers_and_columns)
Test that line numbers and columns are correctly tracked ... ok
test_tokenize_numbers (unit.test_tokenizer.TestCTokenizer.test_tokenize_numbers)
Test tokenization of numbers ... ok
test_tokenize_operators_and_punctuation (unit.test_tokenizer.TestCTokenizer.test_tokenize_operators_and_punctuation)
Test tokenization of operators and punctuation ... ok
test_tokenize_preprocessor (unit.test_tokenizer.TestCTokenizer.test_tokenize_preprocessor)
Test tokenization of preprocessor directives ... ok
test_tokenize_preprocessor_if_directives (unit.test_tokenizer.TestCTokenizer.test_tokenize_preprocessor_if_directives)
Test tokenization of #if preprocessor directives ... ok
test_tokenize_strings (unit.test_tokenizer.TestCTokenizer.test_tokenize_strings)
Test tokenization of string literals ... ok
test_tokenize_whitespace (unit.test_tokenizer.TestCTokenizer.test_tokenize_whitespace)
Test tokenization of whitespace ... ok
test_find_enums_simple (unit.test_tokenizer.TestStructureFinder.test_find_enums_simple)
Test finding simple enum definitions ... ok
test_find_functions_declarations (unit.test_tokenizer.TestStructureFinder.test_find_functions_declarations)
Test finding function declarations ... ok
test_find_functions_definitions (unit.test_tokenizer.TestStructureFinder.test_find_functions_definitions)
Test finding function definitions ... ok
test_find_functions_pointer_return (unit.test_tokenizer.TestStructureFinder.test_find_functions_pointer_return)
Test finding functions with pointer return types ... ok
test_find_functions_with_modifiers (unit.test_tokenizer.TestStructureFinder.test_find_functions_with_modifiers)
Test finding functions with modifiers ... ok
test_find_matching_brace (unit.test_tokenizer.TestStructureFinder.test_find_matching_brace)
Test finding matching braces ... ok
test_find_matching_brace_no_match (unit.test_tokenizer.TestStructureFinder.test_find_matching_brace_no_match)
Test finding matching brace when there's no match ... ok
test_find_structs_anonymous (unit.test_tokenizer.TestStructureFinder.test_find_structs_anonymous)
Test finding anonymous struct definitions ... ok
test_find_structs_simple (unit.test_tokenizer.TestStructureFinder.test_find_structs_simple)
Test finding simple struct definitions ... ok
test_find_typedef_enums (unit.test_tokenizer.TestStructureFinder.test_find_typedef_enums)
Test finding typedef enum definitions ... ok
test_find_typedef_structs (unit.test_tokenizer.TestStructureFinder.test_find_typedef_structs)
Test finding typedef struct definitions ... ok
test_comment_block_with_code_inside (unit.test_tokenizer.TestTokenizerEdgeCases.test_comment_block_with_code_inside)
Test that comment blocks containing code-like content are properly ignored ... ok
test_tokenize_complex_expressions (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_complex_expressions)
Test tokenization of complex C expressions ... ok
test_tokenize_escaped_characters (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_escaped_characters)
Test tokenization of escaped characters ... ok
test_tokenize_large_multiline_comment_block (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_large_multiline_comment_block)
Test tokenization of large multi-line comment blocks ... ok
test_tokenize_mixed_content (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_mixed_content)
Test tokenization of mixed content with all token types ... ok
test_tokenize_multiline_strings (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_multiline_strings)
Test tokenization of multiline strings ... String tokens: [Token(STRING, '"Line 1
Line 2
Line 3"', 1:0)]
String values: ['"Line 1\nLine 2\nLine 3"']
ok
test_tokenize_nested_comments (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_nested_comments)
Test tokenization with nested comments ... ok
test_tokenize_preprocessor_edge_cases (unit.test_tokenizer.TestTokenizerEdgeCases.test_tokenize_preprocessor_edge_cases)
Test tokenization of preprocessor edge cases ... ok
test_very_large_comment_block_parsing (unit.test_tokenizer.TestTokenizerEdgeCases.test_very_large_comment_block_parsing)
Test that very large comment blocks are properly filtered out during parsing ... ok
test_extract_token_range (unit.test_tokenizer.TestUtilityFunctions.test_extract_token_range)
Test extracting text from token range ... All tokens: [Token(INT, 'int', 1:0), Token(WHITESPACE, ' ', 1:3), Token(IDENTIFIER, 'x', 1:4), Token(WHITESPACE, ' ', 1:5), Token(ASSIGN, '=', 1:6), Token(WHITESPACE, ' ', 1:7), Token(NUMBER, '42', 1:8), Token(SEMICOLON, ';', 1:10), Token(EOF, '', 1:11)]
Extracted text: int x
ok
test_extract_token_range_invalid (unit.test_tokenizer.TestUtilityFunctions.test_extract_token_range_invalid)
Test extracting token range with invalid indices ... ok
test_find_enum_values (unit.test_tokenizer.TestUtilityFunctions.test_find_enum_values)
Test extracting enum values ... ok
test_find_enum_values_complex (unit.test_tokenizer.TestUtilityFunctions.test_find_enum_values_complex)
Test extracting complex enum values ... ok
test_find_struct_fields (unit.test_tokenizer.TestUtilityFunctions.test_find_struct_fields)
Test extracting struct fields ... ok
test_additions_with_file_selection (unit.test_transformer.TestTransformer.test_additions_with_file_selection)
Test additions with file selection ... ok
test_apply_file_filters_both_patterns (unit.test_transformer.TestTransformer.test_apply_file_filters_both_patterns)
Test file filtering with both include and exclude patterns ... ok
test_apply_file_filters_exclude_only (unit.test_transformer.TestTransformer.test_apply_file_filters_exclude_only)
Test file filtering with exclude patterns only ... ok
test_apply_file_filters_include_only (unit.test_transformer.TestTransformer.test_apply_file_filters_include_only)
Test file filtering with include patterns only ... ok
test_apply_file_filters_no_patterns (unit.test_transformer.TestTransformer.test_apply_file_filters_no_patterns)
Test file filtering with no patterns (should return original model) ... ok
test_apply_include_filters_basic (unit.test_transformer.TestTransformer.test_apply_include_filters_basic)
Test basic include filtering functionality ... 2025-08-02 07:44:17,595 - c2puml.core.transformer - INFO - Applying include filters for 1 root files
ok
test_apply_include_filters_empty_config (unit.test_transformer.TestTransformer.test_apply_include_filters_empty_config)
Test include filtering with empty configuration ... 2025-08-02 07:44:17,595 - c2puml.core.transformer - INFO - Applying include filters for 0 root files
2025-08-02 07:44:17,595 - c2puml.core.transformer - WARNING - No valid include filters found, skipping include filtering
ok
test_apply_include_filters_invalid_regex (unit.test_transformer.TestTransformer.test_apply_include_filters_invalid_regex)
Test include filtering with invalid regex patterns ... 2025-08-02 07:44:17,595 - c2puml.core.transformer - INFO - Applying include filters for 1 root files
2025-08-02 07:44:17,595 - c2puml.core.transformer - WARNING - Invalid regex pattern for root file main.c: unterminated character set at position 0
2025-08-02 07:44:17,595 - c2puml.core.transformer - WARNING - No valid include filters found, skipping include filtering
ok
test_apply_include_filters_multiple_root_files (unit.test_transformer.TestTransformer.test_apply_include_filters_multiple_root_files)
Test include filtering with multiple root files ... 2025-08-02 07:44:17,595 - c2puml.core.transformer - INFO - Applying include filters for 2 root files
ok
test_apply_include_filters_no_matching_root_file (unit.test_transformer.TestTransformer.test_apply_include_filters_no_matching_root_file)
Test include filtering when root file doesn't match any filters ... 2025-08-02 07:44:17,595 - c2puml.core.transformer - INFO - Applying include filters for 1 root files
ok
test_apply_rename_patterns_invalid_regex (unit.test_transformer.TestTransformer.test_apply_rename_patterns_invalid_regex)
Test apply_rename_patterns with invalid regex ... 2025-08-02 07:44:17,596 - c2puml.core.transformer - WARNING - Invalid regex pattern '[invalid': unterminated character set at position 0
ok
test_apply_rename_patterns_no_match (unit.test_transformer.TestTransformer.test_apply_rename_patterns_no_match)
Test apply_rename_patterns when no patterns match ... ok
test_apply_single_transformation_container (unit.test_transformer.TestTransformer.test_apply_single_transformation_container)
Test applying a single transformation container ... ok
test_apply_transformations_no_config (unit.test_transformer.TestTransformer.test_apply_transformations_no_config)
Test applying transformations with empty config ... 2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Transformations complete. Model now has 2 files
ok
test_apply_transformations_with_all_sections (unit.test_transformer.TestTransformer.test_apply_transformations_with_all_sections)
Test applying transformations with all configuration sections ... 2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Converting legacy 'transformations' format to container format
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Discovered 1 transformation containers: ['transformations_00_default']
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Applying transformation container: transformations_00_default
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - After transformations_00_default: model contains 1 files with 12 total elements
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
ok
test_apply_transformations_with_include_filters (unit.test_transformer.TestTransformer.test_apply_transformations_with_include_filters)
Test that include_filters preserve includes arrays but only affect include_relations generation ... 2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
ok
test_backward_compatibility_single_transformations (unit.test_transformer.TestTransformer.test_backward_compatibility_single_transformations)
Test that old single 'transformations' format still works ... 2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Converting legacy 'transformations' format to container format
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Discovered 1 transformation containers: ['transformations_00_default']
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Applying transformation container: transformations_00_default
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Removed 1 functions from test.c
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - After transformations_00_default: model contains 1 files with 1 total elements
2025-08-02 07:44:17,596 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
ok
test_compile_patterns_invalid (unit.test_transformer.TestTransformer.test_compile_patterns_invalid)
Test compiling invalid regex patterns ... 2025-08-02 07:44:17,597 - c2puml.core.transformer - WARNING - Invalid regex pattern '[invalid': unterminated character set at position 0
ok
test_compile_patterns_valid (unit.test_transformer.TestTransformer.test_compile_patterns_valid)
Test compiling valid regex patterns ... ok
test_dict_to_file_model (unit.test_transformer.TestTransformer.test_dict_to_file_model)
Test converting dictionary back to FileModel ... ok
test_discover_transformation_containers (unit.test_transformer.TestTransformer.test_discover_transformation_containers)
Test discovery and sorting of transformation containers ... 2025-08-02 07:44:17,597 - c2puml.core.transformer - INFO - Discovered 3 transformation containers: ['transformations_a_first', 'transformations_m_middle', 'transformations_z_last']
ok
test_ensure_backward_compatibility (unit.test_transformer.TestTransformer.test_ensure_backward_compatibility)
Test backward compatibility conversion ... 2025-08-02 07:44:17,597 - c2puml.core.transformer - INFO - Converting legacy 'transformations' format to container format
ok
test_file_selection_apply_to_all (unit.test_transformer.TestTransformer.test_file_selection_apply_to_all)
Test file selection with empty file_selection array (apply to all) ... ok
test_file_selection_array_format (unit.test_transformer.TestTransformer.test_file_selection_array_format)
Test file selection with new array format ... ok
test_file_selection_empty_array (unit.test_transformer.TestTransformer.test_file_selection_empty_array)
Test file selection with empty array (apply to all) ... ok
test_file_selection_invalid_format (unit.test_transformer.TestTransformer.test_file_selection_invalid_format)
Test file selection with invalid format ... 2025-08-02 07:44:17,597 - c2puml.core.transformer - WARNING - Invalid file_selection format, must be a list, defaulting to empty list
ok
test_file_selection_no_file_selection (unit.test_transformer.TestTransformer.test_file_selection_no_file_selection)
Test file selection with no file_selection specified (apply to all) ... ok
test_file_selection_no_matching_files (unit.test_transformer.TestTransformer.test_file_selection_no_matching_files)
Test file selection with no matching files ... ok
test_file_selection_selected_files (unit.test_transformer.TestTransformer.test_file_selection_selected_files)
Test file selection with specific file patterns ... ok
test_file_specific_include_depth (unit.test_transformer.TestTransformer.test_file_specific_include_depth)
Test file-specific include_depth functionality ... 2025-08-02 07:44:17,597 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,597 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,597 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,597 - c2puml.core.transformer - INFO - Transformations complete. Model now has 4 files
ok
test_file_specific_include_depth_fallback_to_global (unit.test_transformer.TestTransformer.test_file_specific_include_depth_fallback_to_global)
Test that files without file-specific config use global include_depth ... 2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=2)
2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Transformations complete. Model now has 2 files
ok
test_file_specific_include_filter_optional (unit.test_transformer.TestTransformer.test_file_specific_include_filter_optional)
Test that include_filter is optional in file_specific configuration ... 2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=1)
2025-08-02 07:44:17,598 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
ok
test_filter_dict_exclude_only (unit.test_transformer.TestTransformer.test_filter_dict_exclude_only)
Test dictionary filtering with exclude patterns only ... ok
test_filter_dict_include_only (unit.test_transformer.TestTransformer.test_filter_dict_include_only)
Test dictionary filtering with include patterns only ... ok
test_filter_list_include_only (unit.test_transformer.TestTransformer.test_filter_list_include_only)
Test list filtering with include patterns only ... ok
test_filter_list_with_key_function (unit.test_transformer.TestTransformer.test_filter_list_with_key_function)
Test list filtering with a key function ... ok
test_find_included_file (unit.test_transformer.TestTransformer.test_find_included_file)
Test finding included file paths ... ok
test_find_included_file_not_found (unit.test_transformer.TestTransformer.test_find_included_file_not_found)
Test finding non-existent included file ... ok
test_find_root_file_c_file (unit.test_transformer.TestTransformer.test_find_root_file_c_file)
Test _find_root_file method for .c files ... ok
test_find_root_file_header_file (unit.test_transformer.TestTransformer.test_find_root_file_header_file)
Test _find_root_file method for header files ... ok
test_include_filters_preserve_includes_arrays (unit.test_transformer.TestTransformer.test_include_filters_preserve_includes_arrays)
Test that include_filters preserve all includes arrays and only affect include_relations generation ... 2025-08-02 07:44:17,599 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,599 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,599 - c2puml.core.transformer - INFO - Processing includes with simplified depth-based approach (global_depth=3)
2025-08-02 07:44:17,599 - c2puml.core.transformer - INFO - Transformations complete. Model now has 4 files
ok
test_load_config_invalid_file (unit.test_transformer.TestTransformer.test_load_config_invalid_file)
Test loading a non-existent configuration file ... ok
test_load_config_valid_file (unit.test_transformer.TestTransformer.test_load_config_valid_file)
Test loading a valid configuration file ... ok
test_load_model_invalid_file (unit.test_transformer.TestTransformer.test_load_model_invalid_file)
Test loading a non-existent model file ... ok
test_load_model_invalid_json (unit.test_transformer.TestTransformer.test_load_model_invalid_json)
Test loading a model file with invalid JSON ... ok
test_load_model_valid_file (unit.test_transformer.TestTransformer.test_load_model_valid_file)
Test loading a valid model file ... ok
test_matches_any_pattern (unit.test_transformer.TestTransformer.test_matches_any_pattern)
Test _matches_any_pattern method ... ok
test_matches_pattern_invalid (unit.test_transformer.TestTransformer.test_matches_pattern_invalid)
Test _matches_pattern method with invalid patterns ... 2025-08-02 07:44:17,600 - c2puml.core.transformer - WARNING - Invalid pattern '[invalid' for file matching
ok
test_matches_pattern_valid (unit.test_transformer.TestTransformer.test_matches_pattern_valid)
Test _matches_pattern method with valid patterns ... ok
test_multiple_transformation_containers (unit.test_transformer.TestTransformer.test_multiple_transformation_containers)
Test multiple transformation containers applied in alphabetical order ... 2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Discovered 3 transformation containers: ['transformations_a_first', 'transformations_m_middle', 'transformations_z_last']
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Applying transformation container: transformations_a_first
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Removed 1 functions from test.c
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - After transformations_a_first: model contains 1 files with 2 total elements
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Applying transformation container: transformations_m_middle
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - After transformations_m_middle: model contains 1 files with 2 total elements
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Applying transformation container: transformations_z_last
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - After transformations_z_last: model contains 1 files with 2 total elements
2025-08-02 07:44:17,600 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
ok
test_process_include_relations (unit.test_transformer.TestTransformer.test_process_include_relations)
Test processing include relations ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Processing include relations with max depth: 2
ok
test_removals_with_file_selection (unit.test_transformer.TestTransformer.test_removals_with_file_selection)
Test removals with file selection ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 1 functions from sample.c
2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 1 structs from sample.c
ok
test_remove_enums_regex_patterns (unit.test_transformer.TestTransformer.test_remove_enums_regex_patterns)
Test removing enums with regex patterns ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 1 enums from test.c
ok
test_remove_functions_regex_patterns (unit.test_transformer.TestTransformer.test_remove_functions_regex_patterns)
Test removing functions with regex patterns ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 2 functions from test.c
ok
test_remove_globals_regex_patterns (unit.test_transformer.TestTransformer.test_remove_globals_regex_patterns)
Test removing global variables with regex patterns ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 2 global variables from test.c
ok
test_remove_includes_regex_patterns (unit.test_transformer.TestTransformer.test_remove_includes_regex_patterns)
Test removing includes with regex patterns ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 2 includes and 2 include relations from test.c
ok
test_remove_macros_regex_patterns (unit.test_transformer.TestTransformer.test_remove_macros_regex_patterns)
Test removing macros with regex patterns ... 2025-08-02 07:44:17,601 - c2puml.core.transformer - INFO - Removed 3 macros from test.c
ok
test_remove_operations_empty_patterns (unit.test_transformer.TestTransformer.test_remove_operations_empty_patterns)
Test that remove operations handle empty pattern lists correctly ... ok
test_remove_operations_no_matches (unit.test_transformer.TestTransformer.test_remove_operations_no_matches)
Test remove operations when no patterns match ... ok
test_remove_structs_regex_patterns (unit.test_transformer.TestTransformer.test_remove_structs_regex_patterns)
Test removing structs with regex patterns ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Removed 2 structs from test.c
ok
test_remove_typedefs_regex_patterns (unit.test_transformer.TestTransformer.test_remove_typedefs_regex_patterns)
Test removing typedefs with regex patterns ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Removed 3 typedefs from test.c
ok
test_remove_unions_regex_patterns (unit.test_transformer.TestTransformer.test_remove_unions_regex_patterns)
Test removing unions with regex patterns ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Removed 2 unions from test.c
ok
test_rename_enums_with_deduplication (unit.test_transformer.TestTransformer.test_rename_enums_with_deduplication)
Test renaming enums with deduplication ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Renamed enums in test.c, removed 1 duplicates
ok
test_rename_files (unit.test_transformer.TestTransformer.test_rename_files)
Test renaming files ... ok
test_rename_functions_with_deduplication (unit.test_transformer.TestTransformer.test_rename_functions_with_deduplication)
Test renaming functions with deduplication when patterns create duplicates ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Renamed functions in test.c, removed 2 duplicates
ok
test_rename_globals_with_deduplication (unit.test_transformer.TestTransformer.test_rename_globals_with_deduplication)
Test renaming global variables with deduplication ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Renamed globals in test.c, removed 1 duplicates
ok
test_rename_includes_with_deduplication (unit.test_transformer.TestTransformer.test_rename_includes_with_deduplication)
Test renaming includes with deduplication ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Renamed includes in test.c, removed 1 duplicates
ok
test_rename_macros_with_deduplication (unit.test_transformer.TestTransformer.test_rename_macros_with_deduplication)
Test renaming macros with deduplication ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Renamed macros in test.c, removed 1 duplicates
ok
test_rename_operations_empty_patterns (unit.test_transformer.TestTransformer.test_rename_operations_empty_patterns)
Test that rename operations handle empty pattern maps correctly ... ok
test_rename_structs_with_deduplication (unit.test_transformer.TestTransformer.test_rename_structs_with_deduplication)
Test renaming structs with deduplication ... 2025-08-02 07:44:17,602 - c2puml.core.transformer - INFO - Renamed structs in test.c, removed 1 duplicates
ok
test_rename_typedefs_with_deduplication (unit.test_transformer.TestTransformer.test_rename_typedefs_with_deduplication)
Test renaming typedefs with deduplication ... 2025-08-02 07:44:17,603 - c2puml.core.transformer - INFO - Renamed typedefs in test.c, removed 1 duplicates
ok
test_rename_unions_with_deduplication (unit.test_transformer.TestTransformer.test_rename_unions_with_deduplication)
Test renaming unions with deduplication ... 2025-08-02 07:44:17,603 - c2puml.core.transformer - INFO - Renamed unions in test.c, removed 1 duplicates
ok
test_renaming_with_file_selection (unit.test_transformer.TestTransformer.test_renaming_with_file_selection)
Test renaming with file selection ... ok
test_save_model (unit.test_transformer.TestTransformer.test_save_model)
Test saving model to file ... ok
test_should_include_file_both_patterns (unit.test_transformer.TestTransformer.test_should_include_file_both_patterns)
Test file inclusion with both include and exclude patterns ... ok
test_should_include_file_exclude_patterns (unit.test_transformer.TestTransformer.test_should_include_file_exclude_patterns)
Test file inclusion with exclude patterns ... ok
test_should_include_file_include_patterns (unit.test_transformer.TestTransformer.test_should_include_file_include_patterns)
Test file inclusion with include patterns ... ok
test_should_process_include_relations (unit.test_transformer.TestTransformer.test_should_process_include_relations)
Test _should_process_include_relations helper method ... ok
test_transform_main_method (unit.test_transformer.TestTransformer.test_transform_main_method)
Test the main transform method ... 2025-08-02 07:44:17,604 - c2puml.core.transformer - INFO - Step 2: Transforming model: /tmp/tmpt4arnwwi.json
2025-08-02 07:44:17,604 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,604 - c2puml.core.transformer - INFO - Discovered 0 transformation containers: []
2025-08-02 07:44:17,604 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Step 2 complete! Transformed model saved to: /tmp/tmpt4arnwwi.json
ok
test_transformation_container_order_execution (unit.test_transformer.TestTransformer.test_transformation_container_order_execution)
Test that containers are executed in alphabetical order with correct transformations ... 2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Applying transformations to model
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Discovered 2 transformation containers: ['transformations_01_remove', 'transformations_02_rename']
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Applying transformation container: transformations_01_remove
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Removed 1 functions from test.c
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - After transformations_01_remove: model contains 1 files with 2 total elements
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Applying transformation container: transformations_02_rename
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - After transformations_02_rename: model contains 1 files with 2 total elements
2025-08-02 07:44:17,605 - c2puml.core.transformer - INFO - Transformations complete. Model now has 1 files
ok
test_comments_and_whitespace (unit.test_typedef_extraction.TestTypedefExtraction.test_comments_and_whitespace)
Test extraction with comments and whitespace ... ok
test_comprehensive_typedef_extraction (unit.test_typedef_extraction.TestTypedefExtraction.test_comprehensive_typedef_extraction)
Test comprehensive typedef extraction with all types ... 
Extracted 10 typedefs:
1. typedef uint32_t MyLen;
2. typedef int32_t MyInt;
3. typedef char * MyString;
4. typedef MyComplex * MyComplexPtr;
5. typedef MyComplexPtr MyComplexArray[10];
6. typedef int (*MyCallback)(MyBuffer * buffer);
7. typedef struct MyBuffer_tag
8. typedef struct MyComplexStruct_tag
9. typedef enum Color_tag
10. typedef union Number_tag

Checking expected patterns:
‚úÖ typedef uint32_t MyLen
‚úÖ typedef int32_t MyInt
‚úÖ typedef char * MyString
‚úÖ typedef struct MyBuffer_tag
‚úÖ typedef int (*MyCallback)
‚úÖ typedef struct MyComplexStruct_tag
‚úÖ typedef MyComplex * MyComplexPtr
‚úÖ typedef MyComplexPtr MyComplexArray
‚úÖ typedef enum Color_tag
‚úÖ typedef union Number_tag
ok
test_empty_content (unit.test_typedef_extraction.TestTypedefExtraction.test_empty_content)
Test extraction with empty content ... ok
test_enum_typedefs (unit.test_typedef_extraction.TestTypedefExtraction.test_enum_typedefs)
Test extraction of enum typedefs ... ok
test_function_pointer_typedefs (unit.test_typedef_extraction.TestTypedefExtraction.test_function_pointer_typedefs)
Test extraction of function pointer typedefs ... ok
test_no_typedefs_content (unit.test_typedef_extraction.TestTypedefExtraction.test_no_typedefs_content)
Test extraction with content that has no typedefs ... ok
test_simple_typedefs (unit.test_typedef_extraction.TestTypedefExtraction.test_simple_typedefs)
Test extraction of simple typedefs ... ok
test_struct_typedefs (unit.test_typedef_extraction.TestTypedefExtraction.test_struct_typedefs)
Test extraction of struct typedefs ... ok
test_union_typedefs (unit.test_typedef_extraction.TestTypedefExtraction.test_union_typedefs)
Test extraction of union typedefs ... ok
test_detect_file_encoding_ascii (unit.test_utils.TestUtils.test_detect_file_encoding_ascii)
Test encoding detection for ASCII files ... ok
test_detect_file_encoding_utf8 (unit.test_utils.TestUtils.test_detect_file_encoding_utf8)
Test encoding detection for UTF-8 files ... ok
test_detect_file_encoding_with_bom (unit.test_utils.TestUtils.test_detect_file_encoding_with_bom)
Test encoding detection for files with BOM ... ok
test_get_acceptable_encodings (unit.test_utils.TestUtils.test_get_acceptable_encodings)
Test getting acceptable encodings ... ok
test_get_platform_default_encoding (unit.test_utils.TestUtils.test_get_platform_default_encoding)
Test platform default encoding detection ... ok
test_is_acceptable_encoding (unit.test_utils.TestUtils.test_is_acceptable_encoding)
Test encoding acceptability check ... ok
test_normalize_encoding (unit.test_utils.TestUtils.test_normalize_encoding)
Test encoding normalization ... ok
test_empty_names_detected (unit.test_verifier.TestModelVerifier.test_empty_names_detected)
Test that empty names are detected ... 2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 2 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid struct name '' in file.c
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Struct name is empty in file.c
ok
test_invalid_global_name_detected (unit.test_verifier.TestModelVerifier.test_invalid_global_name_detected)
Test that invalid global variable names are detected ... 2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid field name ']' in global in file.c
ok
test_invalid_identifier_detected (unit.test_verifier.TestModelVerifier.test_invalid_identifier_detected)
Test that invalid identifiers are detected ... 2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid struct name '123invalid' in file.c
ok
test_invalid_identifiers_fail (unit.test_verifier.TestModelVerifier.test_invalid_identifiers_fail)
Test that invalid identifiers fail verification ... 2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid field name '123invalid' in global in file.c
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid field name 'invalid-name' in global in file.c
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid field name 'invalid.name' in global in file.c
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid field name 'invalid name' in global in file.c
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,607 - c2puml.core.verifier - WARNING -   - Invalid field name ']' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Invalid field name '[' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Invalid field name '{' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Invalid field name '}' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Invalid field name '(' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Invalid field name ')' in global in file.c
ok
test_missing_opening_brackets_detected (unit.test_verifier.TestModelVerifier.test_missing_opening_brackets_detected)
Test that missing opening brackets are detected ... 2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field type ']int' for 'test' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field type ')char*' for 'test' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field type '}struct' for 'test' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field type 'int]' for 'test' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field type 'char* ptr]' for 'test' in global in file.c
ok
test_missing_opening_brackets_in_values_detected (unit.test_verifier.TestModelVerifier.test_missing_opening_brackets_in_values_detected)
Test that missing opening brackets in values are detected ... 2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field value ']42' for 'test' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field value ')hello' for 'test' in global in file.c
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,608 - c2puml.core.verifier - WARNING -   - Suspicious field value '}data' for 'test' in global in file.c
ok
test_project_level_validation (unit.test_verifier.TestModelVerifier.test_project_level_validation)
Test project-level validation ... 2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING -   - Project name is empty or whitespace
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING -   - Source folder is empty or whitespace
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING -   - No files found in project
ok
test_suspicious_type_detected (unit.test_verifier.TestModelVerifier.test_suspicious_type_detected)
Test that suspicious types are detected ... 2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING -   - Suspicious field type '{ \ 
 ( ptr_pau8 ) [ 3 U' for 'test_var' in global in file.c
ok
test_suspicious_value_detected (unit.test_verifier.TestModelVerifier.test_suspicious_value_detected)
Test that suspicious values are detected ... 2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING -   - Suspicious field value '\ 
 } 
 
 
 
 
 
 
 
 
 #define CRYPTO_PRV_UTILS_U16_TO_U8ARR_BIG_ENDIAN(value_u16, ptr_pau8) \ 
 { \ 
 ( ptr_pau8 ) [ 1 U' for 'test_var' in global in file.c
ok
test_unbalanced_brackets_detected (unit.test_verifier.TestModelVerifier.test_unbalanced_brackets_detected)
Test that unbalanced brackets are detected ... 2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING - Model verification found 1 issues:
2025-08-02 07:44:17,609 - c2puml.core.verifier - WARNING -   - Suspicious field type 'int[10' for 'test' in global in file.c
ok
test_valid_identifiers_pass (unit.test_verifier.TestModelVerifier.test_valid_identifiers_pass)
Test that valid identifiers pass verification ... 2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
ok
test_valid_model_passes_verification (unit.test_verifier.TestModelVerifier.test_valid_model_passes_verification)
Test that a valid model passes verification ... 2025-08-02 07:44:17,609 - c2puml.core.verifier - INFO - Model verification passed - all values look sane
ok

----------------------------------------------------------------------
Ran 376 tests in 1.152s

OK

--------------------------------------------------
                 unittest Summary                 
--------------------------------------------------
Tests run: 376
Failures: 0
Errors: 0

======================================================================
                       üéØ Test Execution Summary                       
======================================================================
Duration: 1.25 seconds
‚úÖ All tests passed!
