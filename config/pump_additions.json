{
  "_description": "Pump-specific additions - inject pump-related structures",
  "additions": {
    "structs": [
      {
        "name": "pump_config_t",
        "typedef_name": "pump_config_t",
        "fields": [
          {
            "name": "enabled",
            "type": "bool"
          },
          {
            "name": "max_pressure",
            "type": "float"
          },
          {
            "name": "min_pressure",
            "type": "float"
          },
          {
            "name": "name",
            "type": "char",
            "array_size": "64"
          },
          {
            "name": "pump_id",
            "type": "uint32_t"
          }
        ],
        "target_files": [
          ".*pump.*\\.h$",
          ".*config.*\\.h$"
        ]
      },
      {
        "name": "pump_runtime_t",
        "typedef_name": "pump_runtime_t",
        "fields": [
          {
            "name": "current_state",
            "type": "pump_state_t"
          },
          {
            "name": "last_maintenance",
            "type": "time_t"
          },
          {
            "name": "operating_hours",
            "type": "uint32_t"
          },
          {
            "name": "error_count",
            "type": "uint16_t"
          }
        ],
        "target_files": [
          ".*pump.*\\.h$"
        ]
      }
    ],
    "enums": [
      {
        "name": "pump_state_e",
        "typedef_name": "pump_state_t",
        "values": [
          "PUMP_IDLE",
          "PUMP_STARTING",
          "PUMP_RUNNING",
          "PUMP_STOPPING",
          "PUMP_ERROR",
          "PUMP_MAINTENANCE",
          "PUMP_DISABLED"
        ],
        "target_files": [
          ".*pump.*"
        ]
      },
      {
        "name": "pump_error_e",
        "typedef_name": "pump_error_t",
        "values": [
          "PUMP_ERROR_NONE",
          "PUMP_ERROR_PRESSURE_HIGH",
          "PUMP_ERROR_PRESSURE_LOW",
          "PUMP_ERROR_OVERHEAT",
          "PUMP_ERROR_MOTOR_FAULT",
          "PUMP_ERROR_COMMUNICATION"
        ],
        "target_files": [
          ".*pump.*"
        ]
      }
    ],
    "functions": [
      {
        "name": "pump_initialize",
        "return_type": "int",
        "parameters": [
          {
            "name": "config",
            "type": "pump_config_t*"
          }
        ],
        "is_static": false,
        "target_files": [
          ".*pump.*\\.c$"
        ]
      },
      {
        "name": "pump_get_state",
        "return_type": "pump_state_t",
        "parameters": [
          {
            "name": "pump_id",
            "type": "uint32_t"
          }
        ],
        "is_static": false,
        "target_files": [
          ".*pump.*"
        ]
      },
      {
        "name": "pump_set_pressure",
        "return_type": "int",
        "parameters": [
          {
            "name": "pump_id",
            "type": "uint32_t"
          },
          {
            "name": "pressure",
            "type": "float"
          }
        ],
        "is_static": false,
        "target_files": [
          ".*pump.*"
        ]
      }
    ]
  }
}