# Test Report Generation Scripts

This directory contains scripts for generating comprehensive test and coverage reports.

## Scripts

### `generate_test_summary.py`
Generates a clean, focused test summary report (`summary.html`) that includes:
- Test execution statistics with visual cards
- Code coverage summary in a formatted table
- Overall results with key metrics
- Link to detailed coverage report

**Usage:**
```bash
python3 tests/generate_test_summary.py
```

**Output:** `tests/reports/summary.html`

### `generate_coverage_report.py`
Generates a detailed coverage report (`coverage.html`) that shows:
- All uncovered code lines with context (10 lines before/after)
- File-by-file coverage breakdown
- Code snippets with background coloring (light green for covered, light red for uncovered)
- Line numbers for each code line
- Recommendations for improving coverage

**Usage:**
```bash
python3 tests/generate_coverage_report.py
```

**Output:** `tests/reports/coverage.html`

## Generated Reports

The scripts generate the following reports in `tests/reports/`:

- **`summary.html`** - Clean overview of test results and coverage (HTML format)
- **`coverage.html`** - Detailed analysis of uncovered code with context and background coloring (HTML format)
- **`coverage-summary.txt`** - Raw coverage data (generated by coverage tool)
- **`coverage-detailed.txt`** - Raw detailed coverage data
- **`test-results.txt`** - Raw test execution results

## Integration with GitHub Actions

These scripts are automatically executed as part of the GitHub Actions workflow:
- Reports are generated during CI/CD runs
- Coverage reports are committed to the repository (main branch only)
- Reports are uploaded as workflow artifacts

## Requirements

- Python 3.9+
- `coverage` package (for detailed coverage report)
- Test results and coverage data files

## File Dependencies

### For Test Summary (`generate_test_summary.py`):
- `tests/reports/test-results.txt` - Test execution results
- `tests/reports/coverage-summary.txt` - Coverage summary data

### For Coverage Report (`generate_coverage_report.py`):
- Coverage data file (`.coverage`) - Generated by coverage tool
- Source code files - For extracting code context and line numbers

## Error Handling

Both scripts include robust error handling:
- Graceful handling of missing input files
- Informative warning messages
- Fallback values for missing data
- Proper exit codes for CI/CD integration