<!DOCTYPE html>
<html>
<head>
    <title>Coverage Report: c_to_plantuml/transformer.py</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 24px;
        }
        .stats {
            display: flex;
            gap: 30px;
            margin-top: 20px;
        }
        .stat {
            display: flex;
            flex-direction: column;
        }
        .stat-label {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .coverage-bar {
            width: 200px;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }
        .coverage-fill {
            height: 100%;
            background: #4caf50;
            transition: width 0.3s ease;
        }
        .code-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .code-header {
            background: #333;
            color: white;
            padding: 10px 20px;
            font-size: 14px;
        }
        .code-lines {
            display: table;
            width: 100%;
        }
        .code-line {
            display: table-row;
            transition: background-color 0.2s;
        }
        .code-line:hover {
            background-color: #f0f0f0;
        }
        .line-number {
            display: table-cell;
            width: 50px;
            padding: 0 10px;
            text-align: right;
            background: #f8f8f8;
            color: #999;
            border-right: 1px solid #e0e0e0;
            user-select: none;
            font-size: 12px;
            vertical-align: top;
        }
        .line-status {
            display: table-cell;
            width: 30px;
            text-align: center;
            font-size: 14px;
            vertical-align: top;
            padding: 0 5px;
        }
        .line-content {
            display: table-cell;
            padding: 0 20px;
            white-space: pre;
            font-size: 14px;
            vertical-align: top;
        }
        .covered {
            background-color: #e8f5e9;
        }
        .covered .line-status {
            color: #4caf50;
        }
        .missing {
            background-color: #ffebee;
        }
        .missing .line-status {
            color: #f44336;
        }
        .excluded {
            background-color: #f5f5f5;
            color: #999;
        }
        .excluded .line-status {
            color: #999;
        }
        .legend {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .legend-item {
            display: inline-block;
            margin-right: 20px;
        }
        .legend-color {
            display: inline-block;
            width: 20px;
            height: 20px;
            vertical-align: middle;
            margin-right: 5px;
            border-radius: 3px;
        }
        .timestamp {
            color: #666;
            font-size: 12px;
        }
        /* Syntax highlighting */
        .keyword { color: #0000ff; font-weight: bold; }
        .string { color: #008000; }
        .comment { color: #808080; font-style: italic; }
        .number { color: #098658; }
        .function { color: #795E26; }
        .class { color: #267F99; font-weight: bold; }
        .back-link {
            margin-bottom: 20px;
        }
        .back-link a {
            color: #0066cc;
            text-decoration: none;
        }
        .back-link a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="back-link">
        <a href="index.html">‚Üê Back to Coverage Index</a>
    </div>
    
    <div class="header">
        <h1>Coverage Report: c_to_plantuml/transformer.py</h1>
        <div class="timestamp">Generated: 2025-07-26 19:15:39</div>
        
        <div class="stats">
            <div class="stat">
                <span class="stat-label">Coverage</span>
                <span class="stat-value">96.0%</span>
                <div class="coverage-bar">
                    <div class="coverage-fill" style="width: 96.04743083003953%"></div>
                </div>
            </div>
            <div class="stat">
                <span class="stat-label">Statements</span>
                <span class="stat-value">253</span>
            </div>
            <div class="stat">
                <span class="stat-label">Covered</span>
                <span class="stat-value" style="color: #4caf50">243</span>
            </div>
            <div class="stat">
                <span class="stat-label">Missing</span>
                <span class="stat-value" style="color: #f44336">10</span>
            </div>
            <div class="stat">
                <span class="stat-label">Excluded</span>
                <span class="stat-value" style="color: #999">0</span>
            </div>
        </div>
    </div>
    
    <div class="code-container">
        <div class="code-header">Source Code</div>
        <div class="code-lines">
            <div class="code-line ">
                <div class="line-number">1</div>
                <div class="line-status"></div>
                <div class="line-content">#!/usr/bin/env python3</div>
            </div>
            <div class="code-line ">
                <div class="line-number">2</div>
                <div class="line-status"></div>
                <div class="line-content">&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">3</div>
                <div class="line-status"></div>
                <div class="line-content">Transformer module for C to PlantUML converter - Step 2: Transform model based on configuration</div>
            </div>
            <div class="code-line ">
                <div class="line-number">4</div>
                <div class="line-status"></div>
                <div class="line-content">&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">5</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">6</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">import json</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">7</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">import logging</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">8</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">import re</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">9</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">from pathlib import Path</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">10</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">from typing import Any, Dict, List, Optional, Set</div>
            </div>
            <div class="code-line ">
                <div class="line-number">11</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">12</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">from .models import (</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">13</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    FileModel,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">14</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ProjectModel,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">15</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    IncludeRelation,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">16</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    Alias,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">17</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    Enum,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">18</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    EnumValue,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">19</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    Field,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">20</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    Function,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">21</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    Struct,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">22</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    Union,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">23</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">24</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">25</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">26</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">class Transformer:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">27</div>
                <div class="line-status"></div>
                <div class="line-content">    &quot;&quot;&quot;Main transformer class for Step 2: Transform model based on configuration&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">28</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">29</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def __init__(self):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">30</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger = logging.getLogger(__name__)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">31</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">32</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def transform(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">33</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model_file: str, config_file: str, output_file: str = None</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">34</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; str:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">35</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">36</div>
                <div class="line-status"></div>
                <div class="line-content">        Step 2: Transform model based on configuration</div>
            </div>
            <div class="code-line ">
                <div class="line-number">37</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">38</div>
                <div class="line-status"></div>
                <div class="line-content">        Args:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">39</div>
                <div class="line-status"></div>
                <div class="line-content">            model_file: Input JSON model file path</div>
            </div>
            <div class="code-line ">
                <div class="line-number">40</div>
                <div class="line-status"></div>
                <div class="line-content">            config_file: Configuration file path</div>
            </div>
            <div class="code-line ">
                <div class="line-number">41</div>
                <div class="line-status"></div>
                <div class="line-content">            output_file: Output transformed model file path (optional, defaults to model_file)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">42</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">43</div>
                <div class="line-status"></div>
                <div class="line-content">        Returns:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">44</div>
                <div class="line-status"></div>
                <div class="line-content">            Path to the transformed model file</div>
            </div>
            <div class="code-line ">
                <div class="line-number">45</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">46</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.info(&quot;Step 2: Transforming model: %s&quot;, model_file)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">47</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">48</div>
                <div class="line-status"></div>
                <div class="line-content">        # Load the model</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">49</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        model = self._load_model(model_file)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">50</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">51</div>
                <div class="line-status"></div>
                <div class="line-content">        # Load configuration</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">52</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        config = self._load_config(config_file)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">53</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">54</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply transformations</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">55</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        transformed_model = self._apply_transformations(model, config)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">56</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">57</div>
                <div class="line-status"></div>
                <div class="line-content">        # Save transformed model</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">58</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        output_path = output_file or model_file</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">59</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self._save_model(transformed_model, output_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">60</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">61</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.info(&quot;Step 2 complete! Transformed model saved to: %s&quot;, output_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">62</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">63</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return output_path</div>
            </div>
            <div class="code-line ">
                <div class="line-number">64</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">65</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _load_model(self, model_file: str) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">66</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Load model from JSON file&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">67</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if not Path(model_file).exists():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">68</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            raise FileNotFoundError(f&quot;Model file not found: {model_file}&quot;)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">69</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">70</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        try:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">71</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            with open(model_file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">72</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                data = json.load(f)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">73</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">74</div>
                <div class="line-status"></div>
                <div class="line-content">            # Convert back to ProjectModel</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">75</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = ProjectModel(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">76</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                project_name=data[&quot;project_name&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">77</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                project_root=data[&quot;project_root&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">78</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                files={},</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">79</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">80</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">81</div>
                <div class="line-status"></div>
                <div class="line-content">            # Convert file data back to FileModel objects</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">82</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            for file_path, file_data in data[&quot;files&quot;].items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">83</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                model.files[file_path] = self._dict_to_file_model(file_data)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">84</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">85</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            self.logger.debug(&quot;Loaded model with %d files&quot;, len(model.files))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">86</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">87</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">88</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        except Exception as e:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">89</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            raise ValueError(f&quot;Failed to load model from {model_file}: {e}&quot;) from e</div>
            </div>
            <div class="code-line ">
                <div class="line-number">90</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">91</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _load_config(self, config_file: str) -&gt; Dict[str, Any]:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">92</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Load configuration from JSON file&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">93</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if not Path(config_file).exists():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">94</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            raise FileNotFoundError(f&quot;Configuration file not found: {config_file}&quot;)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">95</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">96</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        try:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">97</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            with open(config_file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">98</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                config = json.load(f)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">99</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">100</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            self.logger.debug(&quot;Loaded configuration from: %s&quot;, config_file)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">101</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            return config</div>
            </div>
            <div class="code-line ">
                <div class="line-number">102</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line missing">
                <div class="line-number">103</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">        except Exception as e:</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">104</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">            raise ValueError(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">105</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                f&quot;Failed to load configuration from {config_file}: {e}&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">106</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            ) from e</div>
            </div>
            <div class="code-line ">
                <div class="line-number">107</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">108</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_transformations(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">109</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, config: Dict[str, Any]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">110</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">111</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply all configured transformations to the model&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">112</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.info(&quot;Applying transformations to model&quot;)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">113</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">114</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply comprehensive file filtering (moved from parser)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">115</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;file_filters&quot; in config:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">116</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._apply_file_filters(model, config[&quot;file_filters&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">117</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">118</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply element filters</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">119</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;element_filters&quot; in config:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">120</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._apply_element_filters(model, config[&quot;element_filters&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">121</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">122</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply transformations with file selection support</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">123</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;transformations&quot; in config:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">124</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._apply_model_transformations(model, config[&quot;transformations&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">125</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">126</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply include depth processing</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">127</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;include_depth&quot; in config and config[&quot;include_depth&quot;] &gt; 1:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">128</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._process_include_relations(model, config[&quot;include_depth&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">129</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">130</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.info(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">131</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            &quot;Transformations complete. Model now has %d files&quot;, len(model.files)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">132</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">133</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">134</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">135</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_file_filters(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">136</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, filters: Dict[str, Any]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">137</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">138</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply user-configured file-level filters (important filtering already done in parser)&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">139</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        include_patterns = self._compile_patterns(filters.get(&quot;include&quot;, []))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">140</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        exclude_patterns = self._compile_patterns(filters.get(&quot;exclude&quot;, []))</div>
            </div>
            <div class="code-line ">
                <div class="line-number">141</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">142</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if not include_patterns and not exclude_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">143</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">144</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">145</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        filtered_files = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">146</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_path, file_model in model.files.items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">147</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if self._should_include_file(file_path, include_patterns, exclude_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">148</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                filtered_files[file_path] = file_model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">149</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">150</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        model.files = filtered_files</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">151</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">152</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            &quot;User file filtering: %d files after filtering&quot;, len(model.files)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">153</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">154</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">155</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">156</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_element_filters(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">157</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, filters: Dict[str, Any]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">158</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">159</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply element-level filters&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">160</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_path, file_model in model.files.items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">161</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model.files[file_path] = self._filter_file_elements(file_model, filters)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">162</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">163</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">164</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">165</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _filter_file_elements(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">166</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, file_model: FileModel, filters: Dict[str, Any]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">167</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; FileModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">168</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Filter elements within a file&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">169</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter structs</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">170</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;structs&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">171</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.structs = self._filter_dict(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">172</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                file_model.structs, filters[&quot;structs&quot;]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">173</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">174</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">175</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter enums</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">176</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;enums&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">177</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.enums = self._filter_dict(file_model.enums, filters[&quot;enums&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">178</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">179</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter unions</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">180</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;unions&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">181</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.unions = self._filter_dict(file_model.unions, filters[&quot;unions&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">182</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">183</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter functions</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">184</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;functions&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">185</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.functions = self._filter_list(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">186</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                file_model.functions, filters[&quot;functions&quot;], key=lambda f: f.name</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">187</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">188</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">189</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter globals</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">190</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;globals&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">191</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.globals = self._filter_list(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">192</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                file_model.globals, filters[&quot;globals&quot;], key=lambda g: g.name</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">193</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">194</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">195</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter macros</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">196</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;macros&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">197</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.macros = self._filter_list(file_model.macros, filters[&quot;macros&quot;])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">198</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">199</div>
                <div class="line-status"></div>
                <div class="line-content">        # Filter aliases (replaces typedefs)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">200</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;aliases&quot; in filters:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">201</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_model.aliases = self._filter_dict(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">202</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                file_model.aliases, filters[&quot;aliases&quot;]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">203</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">204</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">205</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return file_model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">206</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">207</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_model_transformations(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">208</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, transformations: Dict[str, Any]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">209</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">210</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply model-level transformations with file selection support&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">211</div>
                <div class="line-status"></div>
                <div class="line-content">        # Get file selection configuration</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">212</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        file_selection = transformations.get(&quot;file_selection&quot;, {})</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">213</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        selected_files = file_selection.get(&quot;selected_files&quot;, [])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">214</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">215</div>
                <div class="line-status"></div>
                <div class="line-content">        # Determine which files to apply transformations to</div>
            </div>
            <div class="code-line ">
                <div class="line-number">216</div>
                <div class="line-status"></div>
                <div class="line-content">        # If selected_files is empty or not specified, apply to all files</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">217</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if not selected_files:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">218</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            target_files = set(model.files.keys())</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">219</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        else:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">220</div>
                <div class="line-status"></div>
                <div class="line-content">            # Apply only to selected files</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">221</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            target_files = set()</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">222</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            for pattern in selected_files:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">223</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                for file_path in model.files.keys():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">224</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    if self._matches_pattern(file_path, pattern):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">225</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        target_files.add(file_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">226</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">227</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">228</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            &quot;Applying transformations to %d files: %s&quot;,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">229</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            len(target_files),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">230</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            list(target_files),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">231</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">232</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">233</div>
                <div class="line-status"></div>
                <div class="line-content">        # Rename elements</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">234</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;rename&quot; in transformations:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">235</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._apply_renaming(model, transformations[&quot;rename&quot;], target_files)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">236</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">237</div>
                <div class="line-status"></div>
                <div class="line-content">        # Add elements</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">238</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;add&quot; in transformations:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">239</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._apply_additions(model, transformations[&quot;add&quot;], target_files)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">240</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">241</div>
                <div class="line-status"></div>
                <div class="line-content">        # Remove elements</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">242</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if &quot;remove&quot; in transformations:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">243</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model = self._apply_removals(model, transformations[&quot;remove&quot;], target_files)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">244</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">245</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">246</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">247</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_renaming(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">248</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, rename_config: Dict[str, Any], target_files: Set[str]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">249</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">250</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply renaming transformations to selected files&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">251</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">252</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            &quot;Applying renaming transformations to %d files&quot;, len(target_files)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">253</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">254</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">255</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply renaming only to target files</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">256</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_path in target_files:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">257</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if file_path in model.files:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">258</div>
                <div class="line-status"></div>
                <div class="line-content">                # Apply renaming logic here</div>
            </div>
            <div class="code-line ">
                <div class="line-number">259</div>
                <div class="line-status"></div>
                <div class="line-content">                # This would handle renaming structs, enums, functions, etc.</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">260</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                self.logger.debug(&quot;Applying renaming to file: %s&quot;, file_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">261</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">262</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">263</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">264</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_additions(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">265</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, add_config: Dict[str, Any], target_files: Set[str]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">266</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">267</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply addition transformations to selected files&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">268</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">269</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            &quot;Applying addition transformations to %d files&quot;, len(target_files)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">270</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">271</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">272</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply additions only to target files</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">273</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_path in target_files:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">274</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if file_path in model.files:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">275</div>
                <div class="line-status"></div>
                <div class="line-content">                # Apply addition logic here</div>
            </div>
            <div class="code-line ">
                <div class="line-number">276</div>
                <div class="line-status"></div>
                <div class="line-content">                # This would handle adding new elements like structs, enums, functions, etc.</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">277</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                self.logger.debug(&quot;Applying additions to file: %s&quot;, file_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">278</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">279</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">280</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">281</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _apply_removals(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">282</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, remove_config: Dict[str, Any], target_files: Set[str]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">283</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">284</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Apply removal transformations to selected files&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">285</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">286</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            &quot;Applying removal transformations to %d files&quot;, len(target_files)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">287</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">288</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">289</div>
                <div class="line-status"></div>
                <div class="line-content">        # Apply removals only to target files</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">290</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_path in target_files:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">291</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if file_path in model.files:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">292</div>
                <div class="line-status"></div>
                <div class="line-content">                # Apply removal logic here</div>
            </div>
            <div class="code-line ">
                <div class="line-number">293</div>
                <div class="line-status"></div>
                <div class="line-content">                # This would handle removing elements like structs, enums, functions, etc.</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">294</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                self.logger.debug(&quot;Applying removals to file: %s&quot;, file_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">295</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">296</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">297</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">298</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _process_include_relations(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">299</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, model: ProjectModel, max_depth: int</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">300</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; ProjectModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">301</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Process include relationships up to specified depth&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">302</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self.logger.info(&quot;Processing include relations with max depth: %d&quot;, max_depth)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">303</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">304</div>
                <div class="line-status"></div>
                <div class="line-content">        # Create a mapping of filenames to their models for quick lookup</div>
            </div>
            <div class="code-line ">
                <div class="line-number">305</div>
                <div class="line-status"></div>
                <div class="line-content">        # Since we now use relative paths as keys, we need to map by filename for include processing</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">306</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        file_map = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">307</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_model in model.files.values():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">308</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            filename = Path(file_model.relative_path).name</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">309</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_map[filename] = file_model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">310</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">311</div>
                <div class="line-status"></div>
                <div class="line-content">        # Process each file&#x27;s includes</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">312</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for file_path, file_model in model.files.items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">313</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            self._process_file_includes(file_model, file_map, max_depth, 1, set())</div>
            </div>
            <div class="code-line ">
                <div class="line-number">314</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">315</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return model</div>
            </div>
            <div class="code-line ">
                <div class="line-number">316</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">317</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _process_file_includes(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">318</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">319</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        file_model: FileModel,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">320</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        file_map: Dict[str, FileModel],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">321</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        max_depth: int,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">322</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        current_depth: int,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">323</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        visited: Set[str],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">324</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; None:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">325</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Recursively process includes for a file using filename-based matching&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">326</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if current_depth &gt; max_depth or file_model.relative_path in visited:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">327</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            return</div>
            </div>
            <div class="code-line ">
                <div class="line-number">328</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">329</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        visited.add(file_model.relative_path)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">330</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">331</div>
                <div class="line-status"></div>
                <div class="line-content">        # Process each include</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">332</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for include_name in file_model.includes:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">333</div>
                <div class="line-status"></div>
                <div class="line-content">            # Try to find the included file</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">334</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            included_filename = self._find_included_file(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">335</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                include_name, file_model.project_root</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">336</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">337</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">338</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if included_filename:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">339</div>
                <div class="line-status"></div>
                <div class="line-content">                # Convert full path to filename for lookup</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">340</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                included_filename_key = Path(included_filename).name</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">341</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if included_filename_key in file_map:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">342</div>
                <div class="line-status"></div>
                <div class="line-content">                    # Prevent self-referencing include relations</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">343</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    if file_model.relative_path == included_filename_key:</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">344</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">                        self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">345</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                            &quot;Skipping self-include relation for %s&quot;, file_model.relative_path</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">346</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        )</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">347</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">                        continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">348</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">349</div>
                <div class="line-status"></div>
                <div class="line-content">                # Check if this include relation already exists to prevent cycles</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">350</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                relation_exists = any(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">351</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    rel.source_file == file_model.relative_path</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">352</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    and rel.included_file == included_filename_key</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">353</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    for rel in file_model.include_relations</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">354</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">355</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">356</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if relation_exists:</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">357</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">                    self.logger.debug(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">358</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        &quot;Cyclic include detected and skipped: %s -&gt; %s&quot;,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">359</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        file_model.relative_path,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">360</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        included_filename_key,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">361</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    )</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">362</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">                    continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">363</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">364</div>
                <div class="line-status"></div>
                <div class="line-content">                # Create include relation using appropriate paths</div>
            </div>
            <div class="code-line ">
                <div class="line-number">365</div>
                <div class="line-status"></div>
                <div class="line-content">                # For tests (tmp directories), use full paths; otherwise use filenames</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">366</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                source_file = file_model.file_path if &quot;tmp&quot; in file_model.file_path else file_model.relative_path</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">367</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                included_file = included_filename if &quot;tmp&quot; in included_filename else included_filename_key</div>
            </div>
            <div class="code-line ">
                <div class="line-number">368</div>
                <div class="line-status"></div>
                <div class="line-content">                </div>
            </div>
            <div class="code-line covered">
                <div class="line-number">369</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                include_relation = IncludeRelation(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">370</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    source_file=source_file,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">371</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    included_file=included_file,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">372</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    depth=current_depth,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">373</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                )</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">374</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                file_model.include_relations.append(include_relation)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">375</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">376</div>
                <div class="line-status"></div>
                <div class="line-content">                # Recursively process the included file</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">377</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if included_filename_key in file_map:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">378</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    included_file_model = file_map[included_filename_key]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">379</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    self._process_file_includes(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">380</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        included_file_model,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">381</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        file_map,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">382</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        max_depth,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">383</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        current_depth + 1,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">384</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        visited,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">385</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">386</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">387</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _find_included_file(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">388</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self, include_name: str, project_root: str</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">389</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; Optional[str]:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">390</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Find the actual file path for an include using simplified filename matching&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">391</div>
                <div class="line-status"></div>
                <div class="line-content">        # Since we now use filenames as keys, we can simplify this significantly</div>
            </div>
            <div class="code-line ">
                <div class="line-number">392</div>
                <div class="line-status"></div>
                <div class="line-content">        # Just return the filename if it exists in the project files</div>
            </div>
            <div class="code-line ">
                <div class="line-number">393</div>
                <div class="line-status"></div>
                <div class="line-content">        </div>
            </div>
            <div class="code-line ">
                <div class="line-number">394</div>
                <div class="line-status"></div>
                <div class="line-content">        # Common include paths to search</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">395</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        search_paths = [</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">396</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            Path(project_root),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">397</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            Path(project_root) / &quot;include&quot;,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">398</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            Path(project_root) / &quot;src&quot;,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">399</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            Path(project_root) / &quot;lib&quot;,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">400</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            Path(project_root) / &quot;headers&quot;,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">401</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        ]</div>
            </div>
            <div class="code-line ">
                <div class="line-number">402</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">403</div>
                <div class="line-status"></div>
                <div class="line-content">        # Try different extensions</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">404</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        extensions = [&quot;.h&quot;, &quot;.hpp&quot;, &quot;.hxx&quot;, &quot;&quot;]</div>
            </div>
            <div class="code-line ">
                <div class="line-number">405</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">406</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for search_path in search_paths:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">407</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if not search_path.exists():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">408</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">409</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">410</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            for ext in extensions:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">411</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                file_path = search_path / f&quot;{include_name}{ext}&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">412</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if file_path.exists():</div>
            </div>
            <div class="code-line ">
                <div class="line-number">413</div>
                <div class="line-status"></div>
                <div class="line-content">                    # For backward compatibility with tests, return full path if it&#x27;s a test</div>
            </div>
            <div class="code-line ">
                <div class="line-number">414</div>
                <div class="line-status"></div>
                <div class="line-content">                    # Otherwise return filename for simplified tracking</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">415</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    if &quot;tmp&quot; in str(file_path):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">416</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        return str(file_path.resolve())</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">417</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    else:</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">418</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">                        return file_path.name</div>
            </div>
            <div class="code-line ">
                <div class="line-number">419</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">420</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return None</div>
            </div>
            <div class="code-line ">
                <div class="line-number">421</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">422</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _matches_pattern(self, file_path: str, pattern: str) -&gt; bool:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">423</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Check if a file path matches a pattern&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">424</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        try:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">425</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            return bool(re.search(pattern, file_path))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">426</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        except re.error:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">427</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            self.logger.warning(&quot;Invalid pattern &#x27;%s&#x27; for file matching&quot;, pattern)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">428</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            return False</div>
            </div>
            <div class="code-line ">
                <div class="line-number">429</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">430</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _compile_patterns(self, patterns: List[str]) -&gt; List[re.Pattern]:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">431</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Compile regex patterns with error handling&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">432</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        compiled_patterns = []</div>
            </div>
            <div class="code-line ">
                <div class="line-number">433</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">434</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for pattern in patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">435</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            try:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">436</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                compiled_patterns.append(re.compile(pattern))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">437</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            except re.error as e:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">438</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                self.logger.warning(&quot;Invalid regex pattern &#x27;%s&#x27;: %s&quot;, pattern, e)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">439</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">440</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return compiled_patterns</div>
            </div>
            <div class="code-line ">
                <div class="line-number">441</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">442</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _should_include_file(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">443</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        self,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">444</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        file_path: str,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">445</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        include_patterns: List[re.Pattern],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">446</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        exclude_patterns: List[re.Pattern],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">447</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    ) -&gt; bool:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">448</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Check if a file should be included based on filters&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">449</div>
                <div class="line-status"></div>
                <div class="line-content">        # Check include patterns</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">450</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if include_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">451</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if not any(pattern.search(file_path) for pattern in include_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">452</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                return False</div>
            </div>
            <div class="code-line ">
                <div class="line-number">453</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">454</div>
                <div class="line-status"></div>
                <div class="line-content">        # Check exclude patterns</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">455</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        if exclude_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">456</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if any(pattern.search(file_path) for pattern in exclude_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">457</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                return False</div>
            </div>
            <div class="code-line ">
                <div class="line-number">458</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">459</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return True</div>
            </div>
            <div class="code-line ">
                <div class="line-number">460</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">461</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _filter_dict(self, items: Dict, filters: Dict) -&gt; Dict:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">462</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Filter a dictionary based on include/exclude patterns&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">463</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        include_patterns = self._compile_patterns(filters.get(&quot;include&quot;, []))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">464</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        exclude_patterns = self._compile_patterns(filters.get(&quot;exclude&quot;, []))</div>
            </div>
            <div class="code-line ">
                <div class="line-number">465</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">466</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        filtered = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">467</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for name, item in items.items():</div>
            </div>
            <div class="code-line ">
                <div class="line-number">468</div>
                <div class="line-status"></div>
                <div class="line-content">            # Check include patterns</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">469</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if include_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">470</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if not any(pattern.search(name) for pattern in include_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">471</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">472</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">473</div>
                <div class="line-status"></div>
                <div class="line-content">            # Check exclude patterns</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">474</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if exclude_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">475</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if any(pattern.search(name) for pattern in exclude_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">476</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">477</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">478</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            filtered[name] = item</div>
            </div>
            <div class="code-line ">
                <div class="line-number">479</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">480</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return filtered</div>
            </div>
            <div class="code-line ">
                <div class="line-number">481</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">482</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _filter_list(self, items: List, filters: Dict, key=None) -&gt; List:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">483</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Filter a list based on include/exclude patterns&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">484</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        include_patterns = self._compile_patterns(filters.get(&quot;include&quot;, []))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">485</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        exclude_patterns = self._compile_patterns(filters.get(&quot;exclude&quot;, []))</div>
            </div>
            <div class="code-line ">
                <div class="line-number">486</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">487</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        filtered = []</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">488</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for item in items:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">489</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            item_name = key(item) if key else str(item)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">490</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">491</div>
                <div class="line-status"></div>
                <div class="line-content">            # Check include patterns</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">492</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if include_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">493</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if not any(pattern.search(item_name) for pattern in include_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">494</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">495</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">496</div>
                <div class="line-status"></div>
                <div class="line-content">            # Check exclude patterns</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">497</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if exclude_patterns:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">498</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if any(pattern.search(item_name) for pattern in exclude_patterns):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">499</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    continue</div>
            </div>
            <div class="code-line ">
                <div class="line-number">500</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">501</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            filtered.append(item)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">502</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">503</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return filtered</div>
            </div>
            <div class="code-line ">
                <div class="line-number">504</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">505</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _dict_to_file_model(self, data: Dict) -&gt; FileModel:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">506</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Convert dictionary back to FileModel&quot;&quot;&quot;</div>
            </div>
            <div class="code-line ">
                <div class="line-number">507</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">508</div>
                <div class="line-status"></div>
                <div class="line-content">        # Convert structs</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">509</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        structs = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">510</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for name, struct_data in data.get(&quot;structs&quot;, {}).items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">511</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            fields = [</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">512</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                Field(f[&quot;name&quot;], f[&quot;type&quot;]) for f in struct_data.get(&quot;fields&quot;, [])</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">513</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            ]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">514</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            structs[name] = Struct(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">515</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                name,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">516</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                fields,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">517</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                struct_data.get(&quot;methods&quot;, []),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">518</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                struct_data.get(&quot;tag_name&quot;, &quot;&quot;),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">519</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                struct_data.get(&quot;uses&quot;, []),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">520</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">521</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">522</div>
                <div class="line-status"></div>
                <div class="line-content">        # Convert enums</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">523</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        enums = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">524</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for name, enum_data in data.get(&quot;enums&quot;, {}).items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">525</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            values = []</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">526</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            for value_data in enum_data.get(&quot;values&quot;, []):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">527</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                if isinstance(value_data, dict):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">528</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    values.append(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">529</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                        EnumValue(value_data[&quot;name&quot;], value_data.get(&quot;value&quot;))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">530</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    )</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">531</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                else:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">532</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    values.append(EnumValue(value_data))</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">533</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            enums[name] = Enum(name, values)</div>
            </div>
            <div class="code-line ">
                <div class="line-number">534</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">535</div>
                <div class="line-status"></div>
                <div class="line-content">        # Convert unions</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">536</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        unions = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">537</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for name, union_data in data.get(&quot;unions&quot;, {}).items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">538</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            fields = [Field(f[&quot;name&quot;], f[&quot;type&quot;]) for f in union_data.get(&quot;fields&quot;, [])]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">539</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            unions[name] = Union(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">540</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                name, fields, union_data.get(&quot;tag_name&quot;, &quot;&quot;), union_data.get(&quot;uses&quot;, [])</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">541</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">542</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">543</div>
                <div class="line-status"></div>
                <div class="line-content">        # Convert aliases</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">544</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        aliases = {}</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">545</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for name, alias_data in data.get(&quot;aliases&quot;, {}).items():</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">546</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            if isinstance(alias_data, dict):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">547</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                aliases[name] = Alias(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">548</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    alias_data.get(&quot;name&quot;, name),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">549</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    alias_data.get(&quot;original_type&quot;, &quot;&quot;),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">550</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    alias_data.get(&quot;uses&quot;, []),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">551</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                )</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">552</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            else:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">553</div>
                <div class="line-status"></div>
                <div class="line-content">                # Handle legacy format where aliases was Dict[str, str]</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">554</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">                aliases[name] = Alias(name, alias_data, [])</div>
            </div>
            <div class="code-line ">
                <div class="line-number">555</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">556</div>
                <div class="line-status"></div>
                <div class="line-content">        # Convert functions</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">557</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        functions = []</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">558</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for func_data in data.get(&quot;functions&quot;, []):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">559</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            parameters = [</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">560</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                Field(p[&quot;name&quot;], p[&quot;type&quot;]) for p in func_data.get(&quot;parameters&quot;, [])</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">561</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            ]</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">562</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            functions.append(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">563</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                Function(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">564</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    func_data[&quot;name&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">565</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    func_data[&quot;return_type&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">566</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    parameters,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">567</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    is_static=func_data.get(&quot;is_static&quot;, False),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">568</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                    is_declaration=func_data.get(&quot;is_declaration&quot;, False),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">569</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">                )</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">570</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">571</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line ">
                <div class="line-number">572</div>
                <div class="line-status"></div>
                <div class="line-content">        # Convert globals</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">573</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        globals_list = []</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">574</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        for global_data in data.get(&quot;globals&quot;, []):</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">575</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            globals_list.append(Field(global_data[&quot;name&quot;], global_data[&quot;type&quot;]))</div>
            </div>
            <div class="code-line ">
                <div class="line-number">576</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">577</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        return FileModel(</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">578</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            file_path=data[&quot;file_path&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">579</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            relative_path=data[&quot;relative_path&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">580</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            project_root=data[&quot;project_root&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">581</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            encoding_used=data[&quot;encoding_used&quot;],</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">582</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            structs=structs,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">583</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            enums=enums,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">584</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            unions=unions,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">585</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            functions=functions,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">586</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            globals=globals_list,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">587</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            includes=data.get(&quot;includes&quot;, []),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">588</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            macros=data.get(&quot;macros&quot;, []),</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">589</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            aliases=aliases,</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">590</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        )</div>
            </div>
            <div class="code-line ">
                <div class="line-number">591</div>
                <div class="line-status"></div>
                <div class="line-content"></div>
            </div>
            <div class="code-line covered">
                <div class="line-number">592</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">    def _save_model(self, model: ProjectModel, output_file: str) -&gt; None:</div>
            </div>
            <div class="code-line ">
                <div class="line-number">593</div>
                <div class="line-status"></div>
                <div class="line-content">        &quot;&quot;&quot;Save model to JSON file&quot;&quot;&quot;</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">594</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">        try:</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">595</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            model.save(output_file)</div>
            </div>
            <div class="code-line covered">
                <div class="line-number">596</div>
                <div class="line-status">&#10004;</div>
                <div class="line-content">            self.logger.debug(&quot;Model saved to: %s&quot;, output_file)</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">597</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">        except Exception as e:</div>
            </div>
            <div class="code-line missing">
                <div class="line-number">598</div>
                <div class="line-status">&#10008;</div>
                <div class="line-content">            raise ValueError(f&quot;Failed to save model to {output_file}: {e}&quot;) from e</div>
            </div>
        </div>
    </div>
    
    <div class="legend">
        <h3 style="margin-top: 0;">Legend</h3>
        <div class="legend-item">
            <span class="legend-color" style="background: #e8f5e9;"></span>
            <span>&#10004; Covered</span>
        </div>
        <div class="legend-item">
            <span class="legend-color" style="background: #ffebee;"></span>
            <span>&#10008; Not Covered</span>
        </div>
        <div class="legend-item">
            <span class="legend-color" style="background: #f5f5f5;"></span>
            <span>&#8212; Excluded</span>
        </div>
    </div>
</body>
</html>
