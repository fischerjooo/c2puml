# Test metadata
test:
  name: "Include Depth Control"
  description: "Test include depth control functionality"
  category: "feature"
  id: "1008"

---
# Source files  
source_files:
  main.c: |
    #include "level1.h"
    
    int main() {
        return 0;
    }
  level1.h: |
    #ifndef LEVEL1_H
    #define LEVEL1_H
    
    #include "level2.h"
    
    typedef struct { int val1; } Level1;
    
    #endif
  level2.h: |
    #ifndef LEVEL2_H  
    #define LEVEL2_H
    
    typedef struct { int val2; } Level2;
    
    #endif

---
# Configuration
config.json: |
  {
    "project_name": "test_include_depth_control",
    "source_folders": ["."],
    "output_dir": "./output",
    "recursive_search": true,
    "include_depth": 1
  }

---
# Assertions
assertions:
  execution:
    exit_code: 0
  model:
    validate_structure: true
    element_counts:
      functions: 1
      structs: 1
  puml:
    syntax_valid: true