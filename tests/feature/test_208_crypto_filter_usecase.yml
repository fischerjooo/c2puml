test:
  name: Crypto Filter Usecase Functionality
  description: Test crypto filter usecase functionality through the CLI interface
  category: feature
  id: '208'
---
source_files:
  main.c: |
    int main() {
        return 0;
    }
  crypto.c: |
    void aes_encrypt() {
        // AES encryption
    }
    void rsa_encrypt() {
        // RSA encryption
    }
---
config.json: |
  {
    "project_name": "crypto_usecase_test",
    "source_folders": ["."],
    "recursive_search": true,
    "output_dir": "./output",
    "filters": {
      "remove_files": ["crypto\\..*"]
    }
  }
---
assertions:
  execution:
    exit_code: 0
    max_execution_time: 30.0
    stdout_contains: PlantUML generation complete
  model:
    validate_structure: true
    project_name: crypto_usecase_test
    expected_files:
    - main.c
    functions_exist:
    - main
  puml:
    syntax_valid: true
    contains_elements:
    - main
  files:
    output_dir_exists: ./output
    files_exist:
      - ./output/model.json
      - ./output/model_transformed.json
