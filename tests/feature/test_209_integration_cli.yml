test:
  name: Integration CLI Complete Workflow
  description: "End-to-end parse \u2192 transform \u2192 generate with simple project"
  category: feature
  id: '209'
---
source_files:
  main.c: "#include <stdio.h>\n#include \"config.h\"\n\n#define MAX_SIZE 100\n\ntypedef\
    \ struct Person {\n    char name[50];\n    int age;\n} Person;\n\nenum Status\
    \ {\n    OK,\n    ERROR\n};\n\nint global_var = 42;\n\nint main() {\n    printf(\"\
    Hello, World!\\n\");\n    return 0;\n}\n\nvoid process_data(void* data) { }\n"
  config.h: "#ifndef CONFIG_H\n#define CONFIG_H\n\n#define CONFIG_VERSION \"1.0.0\"\
    \n\ntypedef struct {\n    int id;\n    char name[100];\n} User;\n\nenum Color\
    \ {\n    RED,\n    GREEN,\n    BLUE\n};\n\nvoid init_config(void);\n\n#endif\n"
---
config.json: "{\n  \"project_name\": \"integration_cli_project\",\n  \"source_folders\"\
  : [\".\"],\n  \"output_dir\": \"./output\",\n  \"recursive_search\": true,\n  \"\
  include_depth\": 2\n}\n"
---
assertions:
  execution:
    exit_code: 0
    max_execution_time: 60.0
  model:
    validate_structure: true
    expected_files:
    - main.c
    - config.h
    functions_exist:
    - main
    structs_exist:
    - Person
    - User
    enums_exist:
    - Status
    - Color
    macros_exist:
    - MAX_SIZE
    - CONFIG_VERSION
    includes_exist:
    - stdio.h
    - config.h
  puml:
    syntax_valid: true
